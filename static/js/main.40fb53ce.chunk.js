(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1028:function(e,a,t){},1043:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),i=t(41),s=t.n(i),o=(t(645),t(40)),c=t(39),l=t(62),d=t(61),u=(t(273),t(102)),m=(t(275),t(67)),h=(t(430),t(342)),p=(t(431),t(97)),f=(t(649),t(577)),v=(t(651),t(349)),g=(t(432),t(339)),y=(t(433),t(139)),b=(t(434),t(340)),S=(t(356),t(175)),E=t(158),k=t(122),D=t(157),C=t(50),O=(t(357),t(109)),w=t(71),M=t(321),A=t(137),j=t.n(A),I=t(194),R=t.n(I),N=t(45);var _=function(e){var a=e.series,t=e.lineGenerator,r=e.xScale,i=e.yScale;return a.map((function(e){var a=e.id,s=e.data,o=e.color,c=e.predicted,l=e.distancing,d={strokeWidth:3};return c&&(d.strokeDasharray=l?"6, 4":"2, 6"),n.a.createElement("path",{key:a,d:t(s.map((function(e){return{x:r(e.data.x),y:i(e.data.y)}}))),fill:"none",stroke:o,style:d})}))},x={axis:{ticks:{text:{fontSize:18}},legend:{text:{fontSize:18}}},legends:{text:{fontSize:18}}},T=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"parseDate",value:function(e){var a=e.split("-").map(Number),t=Object(w.a)(a,3),r=t[0],n=t[1],i=t[2];return new Date(r,n-=1,i)}},{key:"getCumulativeData",value:function(e){var a=this;return e.map((function(e){return{x:a.parseDate(e.date),y:e.value}}))}},{key:"getDeltaData",value:function(e,a){var t=this;return e.map((function(r,n){return 0===n?{x:t.parseDate(r.date),y:r.value-a}:{x:t.parseDate(r.date),y:r.value-e[n-1].value}}))}},{key:"processData",value:function(e,a){var t=a.statistic,r=a.yScale,n=a.initialVal,i="delta"===t?this.getDeltaData(e,n):this.getCumulativeData(e);return"log"===r&&(i=i.filter((function(e){e.x;return e.y>0}))),i}},{key:"getDataMax",value:function(){var e=this.props.data,a=0;return Object.keys(e).forEach((function(t){var r=e[t],n=r.observed,i=r.predictions;a=Math.max(a,Math.max.apply(Math,Object(D.a)(n.map((function(e){return e.value}))))),i.forEach((function(e){var t=e.time_series;a=Math.max(a,Math.max.apply(Math,Object(D.a)(t.map((function(e){return e.value})))))}))})),a}},{key:"getYAxisProps",value:function(){for(var e=this.props,a=e.statistic,t=e.yScale,r={format:function(e){return R()(e).format("0.[0]a")},orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"delta"===a?"New Cases":"Cumulative Cases",legendOffset:-60,legendPosition:"middle"},n=[],i=0;i<=Math.ceil(Math.log10(this.getDataMax()));i++)n.push(Math.pow(10,i));var s=Object(k.a)({},r,{tickValues:n});return"log"===t?{axisLeft:s,gridYValues:n,yScale:{type:"log",base:10,min:Math.min.apply(Math,n),max:Math.max.apply(Math,n)}}:{axisLeft:r,yScale:{type:"linear",min:"auto",max:"auto"}}}},{key:"render",value:function(){var e=this,a=this.props.data,t=this.props,r=t.statistic,i=t.yScale,s=t.dataType,o=[],c=[];Object.keys(a).sort().forEach((function(t,n){var l=function(e){var a=[N.red,N.gold,N.green,N.blue,N.volcano,N.yellow,N.cyan,N.purple,N.organge,N.lime,N.geekblue,N.magenta];return a[e%a.length]}(n),d="confirmed"==s?a[t].observed:a[t].observed_deaths;o.push({id:t,data:e.processData(d,{statistic:r,yScale:i,initialVal:0}),predicted:!1}),c.push(l[4]),a[t].predictions.filter((function(e){return e.time_series.length>0})).forEach((function(a,n){var s=a.model.name,u=a.distancing,m=a.time_series;o.push({id:"".concat(t," (").concat(s,", distancing=").concat(u,")"),data:e.processData(m,{statistic:r,yScale:i,initialVal:d[d.length-1].value}),predicted:!0,distancing:u}),n<=2?c.push(l[4+2*n]):n<=4?c.push(l[8-2*n]):c.push(l[n%10])}))}));var l="every week";if(o.length>0){var d=o[0].data[0].x,u=o[0].data[0].x;o.forEach((function(e){e.data.forEach((function(e){var a=e.x;d=Math.min(d,a),u=Math.max(u,a)}))})),d=j()(d),(u=j()(u)).diff(d,"days")>150&&(l="every month")}return n.a.createElement(M.a,Object.assign({data:o,colors:c,margin:{top:10,right:50,bottom:70,left:100},xScale:{type:"time",format:"native",precision:"day"},axisBottom:{tickValues:l,format:function(e){return j()(e).format("M/D")},orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Date",legendOffset:36,legendPosition:"middle"}},this.getYAxisProps(),{enableSlices:"x",sliceTooltip:function(e){var a=e.slice;return n.a.createElement("div",{style:{background:"white",padding:"9px 12px",border:"1px solid #ccc"}},n.a.createElement("div",null,j()(a.points[0].data.x).format("MMM Do YYYY")),a.points.map((function(e){return n.a.createElement("div",{key:e.id,style:{color:e.serieColor,padding:"3px 0"}},n.a.createElement("strong",null,e.serieId),"[",R()(e.data.yFormatted).format("0.[0]a"),"]")})))},pointSize:0,pointLabel:"y",pointLabelYOffset:-12,legends:[{anchor:"top-left",direction:"column",justify:!1,translateX:0,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}],layers:["grid","markers","areas","crosshair",_,"slices","points","axes","legends"],theme:x}))}}]),t}(r.Component),V=t(87),P=t.n(V),L="https://dslab-covid19-backend.herokuapp.com/api",U=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"affected_by",value:function(e){}},{key:"areas",value:function(e){var a="".concat(L,"/areas");P.a.get(a).then((function(a){var t=a.data;e(t)}))}},{key:"models",value:function(e){var a="".concat(L,"/models");P.a.get(a).then((function(a){var t=a.data;e(t)}))}},{key:"infection_models",value:function(e){var a="".concat(L,"/infection_models");P.a.get(a).then((function(a){var t=a.data;e(t)}))}},{key:"death_models",value:function(e){var a="".concat(L,"/death_models");P.a.get(a).then((function(a){var t=a.data;e(t)}))}},{key:"cumulative_infections",value:function(e){var a="".concat(L,"/cumulative_infections");P.a.get(a).then((function(a){return e(a.data)}))}},{key:"predict_all",value:function(e,a){var t="".concat(L,"/predict_all");P.a.get(t,{params:e}).then((function(e){return a(e.data)}))}},{key:"predict",value:function(e,a){var t="".concat(L,"/predict");P.a.get(t,{params:e}).then((function(e){a(e.data)}))}},{key:"getCurrentDate",value:function(e){var a="".concat(L,"/current_date");P.a.get(a).then((function(a){var t=a.data;e(t)}))}},{key:"checkHistory",value:function(e,a){var t="".concat(L,"/check_history");P.a.get(t,{params:e}).then((function(e){a(e.data)}))}},{key:"history_cumulative",value:function(e,a){var t="".concat(L,"/history_cumulative");P.a.get(t,{params:e}).then((function(e){a(e.data)}))}},{key:"scores_all",value:function(e,a){var t="".concat(L,"/scores_all");P.a.get(t,{params:e}).then((function(e){a(e.data)}))}},{key:"scores",value:function(e,a){var t="".concat(L,"/scores");P.a.get(t,{params:e}).then((function(e){a(e.data)}))}},{key:"latest_score_date",value:function(e){var a="".concat(L,"/latest_score_date");P.a.get(a).then((function(a){var t=a.data;e(t)}))}},{key:"cumulative_death",value:function(e,a){var t="".concat(L,"/cumulative_death");P.a.get(t,{params:e}).then((function(e){a(e.data)}))}},{key:"all_mrf_scores",value:function(e,a){var t="".concat(L,"/all_mrf_scores");P.a.get(t,{params:e}).then((function(e){a(e.data)}))}}]),e}();function F(e){return"".concat(e.country).concat(e.state?" / "+e.state:"")}function G(e){var a=e.split("/");return{country:a[0].trim(),state:2===a.length?a[1].trim():""}}var W=t(53),H=t(90),B=t(328),J=t(329),z=t(544),Y=t(545),q=t(546),K=t(343);W.e(K.a);var X=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).onShowState=function(a){e.setState({showState:a})},e.modelAPI=new U,e.state={areasList:[],showState:!1,worldSeries:{},usaSeries:{},chinaSeries:{},canadaSeries:{},austriliaSeries:{}},e.modelAPI.areas((function(a){return e.setState({areasList:a})})),e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.triggerRef(this),this.fetchData(this.props.dynamicMapOn)}},{key:"fetchData",value:function(e){var a=this;e&&""!==this.props.model?"cumulative"===this.props.statistic?this.props.days>0?this.modelAPI.predict_all({days:this.props.days,model:this.props.model},(function(e){console.log(e);var t=e.map((function(e){return{id:e.area.iso_2,value:e.value>0?Math.log(e.value):0,valueTrue:e.value,area:e.area}}));a.setState({heatmapData:t},a.resetChart)})):this.modelAPI.history_cumulative({days:this.props.days},(function(e){var t=e.map((function(e){return"confirmed"===a.props.dataType?{id:e.area.iso_2,value:e.value>0?Math.log(e.value):0,valueTrue:e.value,area:e.area}:{id:e.area.iso_2,value:e.deathValue>0?Math.log(e.deathValue):0,valueTrue:e.deathValue,area:e.area}}));a.setState({heatmapData:t},a.resetChart)})):this.props.days>0?this.modelAPI.predict_all({days:this.props.days,model:this.props.model},(function(e){a.props.days>1?a.modelAPI.predict_all({days:a.props.days-1,model:a.props.model},(function(t){var r=e.map((function(e,a){return{id:e.area.iso_2,value:e.value-t[a].value>0?Math.log(e.value-t[a].value):0,valueTrue:e.value-t[a].value>0?e.value-t[a].value:0,area:e.area}}));a.setState({heatmapData:r},a.resetChart)})):a.modelAPI.history_cumulative({days:a.props.days-1},(function(t){var r=e.map((function(e,r){return"confirmed"===a.props.dataType?{id:e.area.iso_2,value:e.value-t.find((function(a){return a.area.iso_2===e.area.iso_2})).value>0?Math.log(e.value-t.find((function(a){return a.area.iso_2===e.area.iso_2})).value):0,valueTrue:e.value-t.find((function(a){return a.area.iso_2===e.area.iso_2})).value>0?e.value-t.find((function(a){return a.area.iso_2===e.area.iso_2})).value:0,area:e.area}:{id:e.area.iso_2,value:e.deathValue-t.find((function(a){return a.area.iso_2===e.area.iso_2})).deathValue>0?Math.log(e.deathValue-t.find((function(a){return a.area.iso_2===e.area.iso_2})).deathValue):0,valueTrue:e.deathValue-t.find((function(a){return a.area.iso_2===e.area.iso_2})).deathValue>0?e.deathValue-t.find((function(a){return a.area.iso_2===e.area.iso_2})).deathValue:0,area:e.area}}));a.setState({heatmapData:r},a.resetChart)}))})):this.modelAPI.history_cumulative({days:this.props.days,model:this.props.model},(function(e){a.modelAPI.history_cumulative({days:a.props.days-1,model:a.props.model},(function(t){var r=e.map((function(e,r){return"confirmed"===a.props.dataType?{id:e.area.iso_2,value:e.value-t[r].value>0?Math.log(e.value-t[r].value):0,valueTrue:e.value-t[r].value>0?e.value-t[r].value:0,area:e.area}:{id:e.area.iso_2,value:e.deathValue-t[r].deathValue>0?Math.log(e.deathValue-t[r].deathValue):0,valueTrue:e.deathValue-t[r].deathValue>0?e.deathValue-t[r].deathValue:0,area:e.area}}));a.setState({heatmapData:r},a.resetChart)}))})):"confirmed"===this.props.dataType?this.modelAPI.cumulative_infections((function(e){var t=e.map((function(e){return{id:e.area.iso_2,value:e.value>0?Math.log(e.value):0,valueTrue:e.value,area:e.area}}));a.setState({heatmapData:t},a.initChart)})):this.modelAPI.cumulative_death({days:0},(function(e){var t=e.map((function(e){return{id:e.area.iso_2,value:e.value>0?Math.log(e.value):0,valueTrue:e.value,area:e.area}}));a.setState({heatmapData:t},a.resetChart)}))}},{key:"initChart",value:function(){this.chart=W.d("chartdiv",H.a),this.chart.projection=new H.d.Mercator;var e=this.chart.series.push(new H.b);e=this.createChartSeries(e,{geodata:B.a,exclude:["AQ"],data:this.state.heatmapData});var a=this.chart.series.push(new H.b);a=this.createChartSeries(a,{geodata:z.a,data:this.state.heatmapData,disabled:!this.state.showState});var t=this.chart.series.push(new H.b);t=this.createChartSeries(t,{geodata:J.a,data:this.state.heatmapData,disabled:!this.state.showState});var r=this.chart.series.push(new H.b);r=this.createChartSeries(r,{geodata:Y.a,data:this.state.heatmapData,disabled:!this.state.showState});var n=this.chart.series.push(new H.b);n=this.createChartSeries(n,{geodata:q.a,data:this.state.heatmapData,disabled:!this.state.showState}),this.stateSeries=[t],this.initChartInterface(),this.setState({worldSeries:e,chinaSeries:a,usaSeries:t,canadaSeries:r,australiaSeries:n})}},{key:"createChartSeries",value:function(e,a){var t=this.props.statistic,r=(e=Object.assign(e,a)).mapPolygons.template;"cumulative"===t?e.heatRules.push({property:"fill",target:r,min:W.c("#fcbba0"),max:W.c("#66000d"),minValue:0,maxValue:Math.log(5e6)}):e.heatRules.push({property:"fill",target:r,min:W.c("#fcbba0"),max:W.c("#66000d"),minValue:0,maxValue:Math.log(1e6)}),r.tooltipText="{name}: {valueTrue}",r.nonScalingStroke=!0,r.strokeWidth=.5,r.states.create("hover").properties.fill=W.c("#e43027"),r.cursorOverStyle=W.b.pointer;var n=this.props,i=n.onMapClick,s=n.onNoData;return r.events.on("hit",(function(e){var a=e.target.dataItem.dataContext,t=(a.id,a.value,a.area),r=a.name;t?i(t):s(r)})),e}},{key:"initChartInterface",value:function(){var e=this,a=this.state.showState;this.chart.zoomControl=new H.c,this.chart.zoomControl.cursorOverStyle=W.b.pointer;var t=this.chart.chartContainer.createChild(W.a);t.label.text="".concat(a?"Hide":"Show"," States/Provinces"),t.togglable=!0,t.padding(5,5,5,5),t.align="right",t.marginRight=15,t.cursorOverStyle=W.b.pointer,t.events.on("hit",(function(){e.onShowState(t.isActive);var a=e.state.showState;e.stateSeries.forEach((function(e){e.disabled=!a})),t.label.text="".concat(a?"Hide":"Show"," States/Provinces")}))}},{key:"resetChart",value:function(){var e=this.state.worldSeries,a=this.state.usaSeries,t=this.state.chinaSeries,r=this.state.canadaSeries,n=this.state.austriliaSeries;e.data=this.state.heatmapData,a.data=this.state.heatmapData,r.data=this.state.heatmapData,t.data=this.state.heatmapData,n.data=this.state.heatmapData}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return n.a.createElement("div",{id:"chartdiv"})}}]),t}(r.Component),Q=(t(798),O.a.Option),$=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(o.a)(this,t),(r=a.call(this,e)).handleYScaleSelect=function(e){r.setState({yScale:e.target.value})},r.handleStatisticSelect=function(e){r.setState({statistic:e.target.value},(function(){r.reloadAll()}))},r.handleDataTypeSelect=function(e){"confirmed"===e.target.value?r.modelAPI.infection_models((function(a){r.setState({modelsList:a,dataType:e.target.value,models:r.state.confirmed_models},(function(){r.formRef.current.setFieldsValue({models:r.state.models}),r.reloadAll(),r.state.dynamicMapOn||r.map.fetchData(r.state.dynamicMapOn)}))})):r.modelAPI.death_models((function(a){r.setState({modelsList:a,dataType:e.target.value,models:r.state.death_models},(function(){r.formRef.current.setFieldsValue({models:r.state.models}),r.reloadAll(),r.state.dynamicMapOn||r.map.fetchData(r.state.dynamicMapOn)}))}))},r.componentWillMount=function(){r.addAreaByStr("US"),r.formRef=n.a.createRef(),r.modelAPI=new U,r.modelAPI.areas((function(e){return r.setState({areasList:e})})),r.modelAPI.infection_models((function(e){return r.setState({modelsList:e})})),r.modelAPI.getCurrentDate((function(e){return r.setState({currentDate:e[0].date})}))},r.bindRef=function(e){r.map=e},r.onAlertClose=function(){r.setState({noDataError:!1})},r.onNoData=function(e){r.setState({noDataError:!0,errorDescription:"There is currently no data for ".concat(e)})},r.generateMarks=function(){var e=r.state,a=e.currentDate,t=e.days,n=new Date("".concat(a,"T00:00")),i=new Date(2020,0,22);n.setDate(n.getDate(Date)+t);var s={};s[t]="".concat(n.getMonth()+1,"/").concat(n.getDate());for(var o=t+7;o<t+50&&o<=99;)n.setDate(n.getDate()+7),s[o]="".concat(n.getMonth()+1,"/").concat(n.getDate()),o+=7;for((n=new Date("".concat(a,"T00:00"))).setDate(n.getDate(Date)+t),n.setDate(n.getDate()-7),o=t-7;n>=i&&o>t-30;)s[o]="".concat(n.getMonth()+1,"/").concat(n.getDate()),n.setDate(n.getDate()-7),o-=7;return s},r.getDaysToFirstDate=function(){var e=r.state.currentDate,a=new Date("".concat(e,"T00:00")),t=new Date(2020,0,22);return Math.ceil(Math.abs(a-t)/864e5)},r.state={areas:r.props.areas||[],areasList:[],models:r.props.models||["SI-kJalpha - No under-reported positive cases (default)"],confirmed_models:["SI-kJalpha - No under-reported positive cases (default)"],death_models:["SI-kJalpha - No under-reported positive cases (death prediction)"],modelsList:[],currentDate:"",distancingOn:!0,distancingOff:!1,mainGraphData:{},days:0,dynamicMapOn:!1,dataType:"confirmed",statistic:"cumulative",yScale:"linear",noDataError:!1,errorDescription:""},r.addAreaByStr=r.addAreaByStr.bind(Object(C.a)(r)),r.removeAreaByStr=r.removeAreaByStr.bind(Object(C.a)(r)),r.onValuesChange=r.onValuesChange.bind(Object(C.a)(r)),r.onMapClick=r.onMapClick.bind(Object(C.a)(r)),r.onDaysToPredictChange=r.onDaysToPredictChange.bind(Object(C.a)(r)),r.switchDynamicMap=r.switchDynamicMap.bind(Object(C.a)(r)),r.onAlertClose=r.onAlertClose.bind(Object(C.a)(r)),r.onNoData=r.onNoData.bind(Object(C.a)(r)),r.generateMarks=r.generateMarks.bind(Object(C.a)(r)),r.handleDataTypeSelect=r.handleDataTypeSelect.bind(Object(C.a)(r)),r.handleStatisticSelect=r.handleStatisticSelect.bind(Object(C.a)(r)),r.handleYScaleSelect=r.handleYScaleSelect.bind(Object(C.a)(r)),r}return Object(c.a)(t,[{key:"onMapClick",value:function(e){this.areaIsSelected(e)||this.addAreaByStr(F(e))}},{key:"areaIsSelected",value:function(e){if(this.state.areas&&e){var a=F(e);return this.state.areas.includes(a)}return!1}},{key:"addAreaByStr",value:function(e){var a=this,t=G(e);this.setState((function(a){return{areas:[].concat(Object(D.a)(a.areas),[e])}}),(function(){a.state.days>=0?a.modelAPI.predict({state:t.state,country:t.country,models:a.state.models,days:a.state.days,distancingOn:a.state.distancingOn,distancingOff:a.state.distancingOff},(function(t){a.setState((function(a){return{mainGraphData:Object(k.a)({},a.mainGraphData,Object(E.a)({},e,t))}}))})):a.modelAPI.checkHistory({state:t.state,country:t.country,days:a.state.days},(function(t){a.setState((function(a){return{mainGraphData:Object(k.a)({},a.mainGraphData,Object(E.a)({},e,t))}}))})),a.formRef.current.setFieldsValue({areas:a.state.areas})}))}},{key:"removeAreaByStr",value:function(e){this.setState((function(a){return{areas:a.areas.filter((function(a){return a!==e})),mainGraphData:Object.keys(a.mainGraphData).filter((function(a){return a!==e})).reduce((function(e,t){return Object(k.a)({},e,Object(E.a)({},t,a.mainGraphData[t]))}),{})}}))}},{key:"modelIsSelected",value:function(e){if(this.state.models&&e){var a="".concat(e.name);return this.state.models.includes(a)}return!1}},{key:"onValuesChange",value:function(e,a){var t=this,r=this.state.dataType;if("socialDistancing"in e&&this.setState({distancingOn:a.socialDistancing.includes("distancingOn"),distancingOff:a.socialDistancing.includes("distancingOff")},(function(){t.reloadAll()})),"models"in e)"confirmed"===r?this.setState({models:e.models,confirmed_models:a.models},(function(){t.reloadAll()})):this.setState({models:e.models,death_models:a.models},(function(){t.reloadAll()}));else{var n=this.state.areas,i=a.areas,s=i.filter((function(e){return!n.includes(e)})),o=n.filter((function(e){return!i.includes(e)}));s.forEach(this.addAreaByStr),o.forEach(this.removeAreaByStr)}}},{key:"onDaysToPredictChange",value:function(e){var a=this;this.state.areas;this.setState({days:e},(function(){a.reloadAll()}))}},{key:"reloadAll",value:function(){var e=this,a=this.state.areas;this.setState({areas:[],mainGraphData:{}},(function(){a.forEach(e.addAreaByStr),e.state.dynamicMapOn&&0!==e.state.models.length&&e.map.fetchData(e.state.dynamicMapOn)}))}},{key:"switchDynamicMap",value:function(e){this.setState({dynamicMapOn:e}),this.map.fetchData(e)}},{key:"render",value:function(){var e=this,a=this.state,t=a.areas,r=a.areasList,i=a.models,s=a.modelsList,o=a.days,c=a.mainGraphData,l=a.dynamicMapOn,d=a.dataType,E=a.statistic,k=a.yScale,D=a.noDataError,C=a.errorDescription,w=this.generateMarks(),M=this.getDaysToFirstDate(),A=r.filter((function(a){return!e.areaIsSelected(a)})).map(F).sort().map((function(e){return n.a.createElement(Q,{key:e}," ",e," ")})),j=s.filter((function(a){return!e.modelIsSelected(a)})).map((function(e){return n.a.createElement(Q,{key:e.name,value:e.name},n.a.createElement(S.a,{title:e.description,placement:"right"},e.name))})),I=n.a.createElement("p",null,'The trend until March 18th has been used as a proxy for "Social distancing off". ',n.a.createElement("br",null),"For modeling details, please see:",n.a.createElement("a",{href:"https://arxiv.org/abs/2004.11372"}," https://arxiv.org/abs/2004.11372"),".");return n.a.createElement("div",{className:"covid-19-predict"},n.a.createElement(u.a,{type:"flex",justify:"space-around"},n.a.createElement(m.a,{span:10},D?n.a.createElement(b.a,{message:"".concat(C),description:"Please wait for our updates.",type:"error",closable:!0,onClose:this.onAlertClose}):null,n.a.createElement("div",{className:"form-wrapper"},n.a.createElement(y.a,{ref:this.formRef,onValuesChange:this.onValuesChange,initialValues:{areas:t,models:i,socialDistancing:["distancingOn"]}},n.a.createElement(y.a.Item,{label:"Areas",name:"areas",rules:[{required:!0,message:"Please select areas!"}]},n.a.createElement(O.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select Areas"},A)),n.a.createElement(y.a.Item,{label:"Models:",name:"models",rules:[{required:!0,message:"Please select a prediction model!"}]},n.a.createElement(O.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select Prediction Models"},j)),n.a.createElement(y.a.Item,{label:"Date to Predict",name:"days",rules:[{required:!0,message:"Please select number of days!"}]},n.a.createElement(g.a,{marks:w,min:o-30>=-M?o-30:-M,initialValue:o,max:o+50<=99?o+50:99,onAfterChange:this.onDaysToPredictChange})),n.a.createElement(f.a,{content:I,title:"Social Distancing Clarification",placement:"topLeft"},n.a.createElement(y.a.Item,{label:"Social Distancing",name:"socialDistancing"},n.a.createElement(v.a.Group,null,n.a.createElement(v.a,{defaultChecked:!0,value:"distancingOn"},"Current Trend"),n.a.createElement(v.a,{value:"distancingOff"},"Social Distancing Off"))))),n.a.createElement("div",null,"Data Type:\xa0\xa0",n.a.createElement(p.a.Group,{value:d,onChange:this.handleDataTypeSelect},n.a.createElement(p.a,{value:"confirmed"},"Confirmed Cases"),n.a.createElement(p.a,{value:"death"},"Deaths"))),n.a.createElement("br",null),n.a.createElement("div",null,"Statistic:\xa0\xa0",n.a.createElement(p.a.Group,{value:E,onChange:this.handleStatisticSelect},n.a.createElement(p.a,{value:"cumulative"},"Cumulative Cases"),n.a.createElement(p.a,{value:"delta"},"New Cases"))),n.a.createElement("br",null),n.a.createElement("div",null,"Scale:\xa0\xa0",n.a.createElement(p.a.Group,{value:k,onChange:this.handleYScaleSelect},n.a.createElement(p.a,{value:"linear"},"linear"),n.a.createElement(p.a,{value:"log"},"logarithmic"))),n.a.createElement("br",null),n.a.createElement("p",null,"Dynamic Map:\xa0\xa0",n.a.createElement(h.a,{onChange:this.switchDynamicMap})))),n.a.createElement(m.a,{span:14},n.a.createElement("div",{className:"map-wrapper"},n.a.createElement(X,{className:"map",triggerRef:this.bindRef,dynamicMapOn:l,days:o,model:null==this.state.models||0===this.state.models.length?"":this.state.models[this.state.models.length-1],onMapClick:this.onMapClick,onNoData:this.onNoData,statistic:E,dataType:d})))),t.length?n.a.createElement(u.a,null,n.a.createElement(m.a,{span:24},n.a.createElement("div",{className:"graph-wrapper"},n.a.createElement(T,{data:c,dataType:d,onNoData:this.onNoData,statistic:E,yScale:k})))):null)}}]),t}(r.PureComponent),Z=(t(885),t(397),function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"page-wrapper"},n.a.createElement("div",{className:"article"},n.a.createElement("h1",{className:"article-title"},"ReCOVER: Accurate Predictions and Resource Management for COVID-19 Epidemic Response"),n.a.createElement("p",{className:"article-paragraph"},"Accurate forecasts of COVID-19 is central to resource management and building strategies to deal with the epidemic. This is an NSF-funded project on COVID-19 forecasting led by by ",n.a.createElement("a",{className:"article-anchor",href:"https://sites.usc.edu/prasanna/"}," Viktor K. Prasanna ")," and ",n.a.createElement("a",{className:"article-anchor",href:"http://www-scf.usc.edu/~ajiteshs/"}," Ajitesh Srivastava "),"from the ",n.a.createElement("a",{className:"article-anchor",href:"https://dslab.usc.edu/"}," Data Science Lab ")," at the University of Southern California."),n.a.createElement("h2",null,"Our Approach"),n.a.createElement("p",{className:"article-paragraph"},"We use our own epidemic model called ",n.a.createElement("a",{className:"article-anchor",href:"https://arxiv.org/abs/2007.05180"}," SI-kJalpha"),", preliminary version of which we have successfully used during ",n.a.createElement("a",{className:"article-anchor",href:"https://news.usc.edu/83180/usc-engineers-earn-national-recognition-for-predicting-disease-outbreaks/",target:"_blank"},"DARPA Grand Challenge 2014"),". Our forecast appears on the official ",n.a.createElement("a",{className:"article-anchor",href:"https://www.cdc.gov/coronavirus/2019-ncov/covid-data/forecasting-us.html"}," CDC webpage"),". Our model can consider the effect of many complexities of the epidemic process and yet be simplified to a few parameters that are learned using fast linear regressions. Therefore, our approach can learn and generate forecasts extremely quickly. On a 2 core desktop machine, our approach takes only 3.18s to tune hyper-parameters, learn parameters and generate 100 days of forecasts of reported cases and deaths for all the states in the US. The total execution time for 184 countries is 11.83s and for more than 3000 US counties is 101.03s. Despite being fast, the accuracy of our forecasts is on par with the state-of-the-art as demonstrated on the ",n.a.createElement("a",{className:"article-anchor",href:"https://scc-usc.github.io/ReCOVER-COVID-19/#/leaderboard"}," leaderboard page"),". Details of modeling and comparisons can be found in ",n.a.createElement("a",{className:"article-anchor",href:"https://arxiv.org/abs/2007.05180"}," our paper"),". This work is supported by National Science Foundation Award No. 2027007 (RAPID)"),n.a.createElement("p",{className:"article-paragraph"},"The ",n.a.createElement("a",{className:"article-anchor",href:"https://github.com/scc-usc/ReCOVER-COVID-19",target:"_blank"}," Github repository ")," for this project is publicly available."),n.a.createElement("p",{className:"article-paragraph"},"The matlab code for forecasting is also made available on ",n.a.createElement("a",{className:"article-anchor",href:"https://www.mathworks.com/matlabcentral/fileexchange/75281-recover",target:"_blank"},"File Exchange"),". For the latest code, please see the Github repo."),n.a.createElement("p",{className:"article-paragraph"}," The code of the prediction model and this web application is contributed by Ajitesh Srivastava, Jamin Chen, Frost Tianjian Xu,  and Bob Xiaochen Yang. "),n.a.createElement("h2",null,"Related Papers"),n.a.createElement("ol",{className:"article-paragraph"},n.a.createElement("li",null,"Ajitesh Srivastava, Tianjian Xu and Viktor K. Prasanna,",n.a.createElement("a",{className:"article-anchor",href:"https://arxiv.org/abs/2007.05180",target:"_blank"},' "Fast and Accurate Forecasting of COVID-19 Deaths using the SIkJalpha Model"')," [arXiv]."),n.a.createElement("li",null,"Ajitesh Srivastava and Viktor K. Prasanna,",n.a.createElement("a",{className:"article-anchor",href:"https://arxiv.org/abs/2006.02127",target:"_blank"},' "Data-driven Identification of Number of Unreported Cases for COVID-19: Bounds and Limitations"')," [arXiv]. Accepted at KDD 2020."),n.a.createElement("li",null,"Ajitesh Srivastava and Viktor K. Prasanna,",n.a.createElement("a",{className:"article-anchor",href:"https://arxiv.org/abs/2004.11372",target:"_blank"},' "Learning to Forecast and Forecasting to Learn from the COVID-19 Pandemic"')," [arXiv].")),n.a.createElement("h2",null,"Other Links"),n.a.createElement("ol",{className:"article-paragraph"},n.a.createElement("li",null,n.a.createElement("a",{className:"article-anchor",href:"https://www.youtube.com/watch?v=ll6k8wlxOFo",target:"_blank"},"Webinar ")," describing our intial approach.")),n.a.createElement("h2",null,"USC Data Science Lab"),n.a.createElement("p",{className:"article-paragraph"},"The USC Data Science Lab focuses on applying machine learning, data mining, and network analysis to real-world problems in society and industry. Please find more information and other research projects ",n.a.createElement("a",{className:"article-anchor",href:"https://sites.usc.edu/dslab/",target:"_blank"}," on our website"),".")))}}]),t}(r.Component));var ee=function(e){var a=e.series,t=e.lineGenerator,r=e.xScale,i=e.yScale;return a.map((function(e){var a=e.id,s=e.data,o=e.color,c=e.predicted,l=e.distancing,d={strokeWidth:5};return c&&(d.strokeDasharray=l?"6, 4":"2, 6"),n.a.createElement("path",{key:a,d:t(s.map((function(e){return{x:r(e.data.x),y:i(e.data.y)}}))),fill:"none",stroke:o,style:d})}))},ae={axis:{ticks:{text:{fontSize:18}},legend:{text:{fontSize:18}}},legends:{text:{fontSize:18}}},te=(r.Component,t(105));var re=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).parseData=function(e,a){var t=Object.keys(e)[0];if(e[t])return"reproduction"===a?e[t].observed_rt.map((function(a,t){var r={name:a.date.split("-")[1]+"/"+a.date.split("-")[2]};r[Object.keys(e)[0]]=a.value,r["error".concat(Object.keys(e)[0])]=a.conf;for(var n=1;n<Object.keys(e).length;++n)r[Object.keys(e)[n]]=e[Object.keys(e)[n]].observed_rt[t].value,r["error".concat(Object.keys(e)[n])]=e[Object.keys(e)[n]].observed_rt[t].conf;return r})):e[t].observed_mrf.map((function(a,t){var r={name:a.date.split("-")[1]+"/"+a.date.split("-")[2]};r[Object.keys(e)[0]]=a.value,r["error".concat(Object.keys(e)[0])]=a.conf;for(var n=1;n<Object.keys(e).length;++n)r[Object.keys(e)[n]]=e[Object.keys(e)[n]].observed_mrf[t].value,r["error".concat(Object.keys(e)[n])]=e[Object.keys(e)[n]].observed_mrf[t].conf;return r}))},e}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props,a=e.data,t=e.date,r=e.scoreType,i=this.parseData(a,r),s=Object.keys(a),o=[];s.map((function(e,a){var t=function(e){var a=[N.red,N.gold,N.lime,N.cyan,N.geekblue,N.purple,N.magenta];return a[e%a.length]}(a);return o.push(t),0}));for(var c=[],l=0;l<s.length;++l)c.push(n.a.createElement(te.e,{type:"monotone",key:l,dataKey:s[l],stroke:o[l][3],strokeWidth:5},n.a.createElement(te.b,{dataKey:"error".concat(s[l]),width:15,strokeWidth:2,stroke:o[l][6],direction:"y"})));return n.a.createElement(te.f,{width:1400,height:300,data:i,margin:{top:40,right:30,left:40,bottom:5}},n.a.createElement(te.a,{strokeDasharray:"3 3"}),n.a.createElement(te.i,{dataKey:"name"}),n.a.createElement(te.j,null,"reproduction"===r?n.a.createElement(te.c,{value:"Dynamic Reproduction Number",dy:90,position:"insideLeft",angle:-90,fontSize:15}):n.a.createElement(te.c,{value:"MFR Score",dy:45,position:"insideLeft",angle:-90,fontSize:15})),n.a.createElement(te.h,null),n.a.createElement(te.g,{x:t,stroke:"green",strokeWidth:5,fontSize:20,label:{position:"top",value:"selected date",fill:"green",fontSize:15},strokeDasharray:"10 10"}),"reproduction"===r?n.a.createElement(te.g,{y:1,stroke:"red",strokeWidth:5,strokeDasharray:"3 3",label:{position:"left",value:"y = 1",fill:"red",fontSize:20}}):null,n.a.createElement(te.d,{iconSize:40}),c)}}]),t}(r.Component);W.e(K.a);var ne=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).onShowState=function(a){e.setState({showState:a})},e.modelAPI=new U,e.state={areasList:[],showState:!1,worldSeries:{},usaSeries:{}},e.modelAPI.areas((function(a){return e.setState({areasList:a})})),e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.triggerRef(this)}},{key:"fetchData",value:function(){var e=this,a=arguments,t=this.props.scoreType;a[0]?"reproduction"===t?this.modelAPI.scores_all({weeks:this.props.weeks},(function(t){var r=t.map((function(e){return{id:e.area.iso_2,value:e.value>0?e.value:0,area:e.area}}));a[1]?e.setState({heatmapData:r},e.initChart):e.setState({heatmapData:r},e.updateChart)})):this.modelAPI.all_mrf_scores({weeks:this.props.weeks},(function(t){var r=t.map((function(e){return{id:e.area.iso_2,value:e.value>0?e.value:0,area:e.area}}));a[1]?e.setState({heatmapData:r},e.initChart):e.setState({heatmapData:r},e.updateChart)})):"reproduction"===t?this.modelAPI.scores_all({weeks:this.props.latestWeek},(function(a){var t=a.map((function(e){return{id:e.area.iso_2,value:e.value>0?e.value:0,area:e.area,conf:e.conf}}));e.setState({heatmapData:t},e.initChart)})):this.modelAPI.all_mrf_scores({weeks:this.props.latestWeek},(function(a){var t=a.map((function(e){return{id:e.area.iso_2,value:e.value>0?e.value:0,area:e.area,conf:e.conf}}));e.setState({heatmapData:t},e.initChart)}))}},{key:"initChart",value:function(){this.chart=W.d("chartdiv",H.a),this.chart.projection=new H.d.Mercator;var e=this.chart.series.push(new H.b);e=this.createChartSeries(e,{geodata:B.a,exclude:["AQ"],data:this.state.heatmapData});var a=this.chart.series.push(new H.b);a=this.createChartSeries(a,{geodata:J.a,data:this.state.heatmapData,disabled:!this.state.showState}),this.stateSeries=[a],this.initChartInterface(),this.setState({worldSeries:e,usaSeries:a})}},{key:"updateChart",value:function(){var e=this.state.worldSeries,a=this.state.usaSeries;e.data=this.state.heatmapData,a.data=this.state.heatmapData}},{key:"createChartSeries",value:function(e,a){var t=this.props.scoreType,r=(e=Object.assign(e,a)).mapPolygons.template;"reproduction"===t?e.heatRules.push({property:"fill",target:r,min:W.c("#85DB50"),max:W.c("#F33A21"),minValue:0,maxValue:4}):e.heatRules.push({property:"fill",target:r,min:W.c("#85DB50"),max:W.c("#F33A21"),minValue:0,maxValue:.4}),r.tooltipText="{name}: {value}",r.nonScalingStroke=!0,r.strokeWidth=.5,r.states.create("hover").properties.fill=W.c("#83FE00"),r.cursorOverStyle=W.b.pointer;var n=this.props,i=n.onMapClick,s=n.onNoData;return r.events.on("hit",(function(e){var a=e.target.dataItem.dataContext,t=(a.id,a.value,a.area),r=a.name;t?i(t):s(r)})),e}},{key:"initChartInterface",value:function(){var e=this,a=this.state.showState;this.chart.zoomControl=new H.c,this.chart.zoomControl.cursorOverStyle=W.b.pointer;var t=this.chart.chartContainer.createChild(W.a);t.label.text="".concat(a?"Hide":"Show"," States/Provinces"),t.togglable=!0,t.padding(5,5,5,5),t.align="right",t.marginRight=15,t.cursorOverStyle=W.b.pointer,t.events.on("hit",(function(){e.onShowState(t.isActive);var a=e.state.showState;e.stateSeries.forEach((function(e){return e.disabled=!a})),t.label.text="".concat(a?"Hide":"Show"," States/Provinces")}))}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return n.a.createElement("div",{id:"chartdiv"})}}]),t}(r.Component),ie=(t(967),O.a.Option),se=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(o.a)(this,t),(r=a.call(this,e)).componentDidMount=function(){r.formRef=n.a.createRef(),r.modelAPI=new U,r.modelAPI.latest_score_date((function(e){return r.setState({latestDate:e[0].date,weeks:e[0].weeks,latestWeek:e[0].weeks},(function(){r.addAreaByStr("US"),r.formRef.current.setFieldsValue({weeks:r.state.latestWeek}),r.map.fetchData(r.state.dynamicMapOn)}))})),r.modelAPI.areas((function(e){return r.setState({areasList:e})}))},r.bindRef=function(e){r.map=e},r.onAlertClose=function(){r.setState({noDataError:!1})},r.onNoData=function(e){r.setState({noDataError:!0,errorDescription:"There is currently no data for ".concat(e)})},r.generateMarks=function(){var e=r.state,a=e.weeks,t=e.lastDate,n=e.latestWeek,i=(new Date("".concat(t,"T00:00")),new Date(2020,2,15),new Date(2020,2,15));i.setDate(i.getDate(Date)+7*a);for(var s={},o=0;o<=5&&a+o<=n;)s[a+o]="".concat(i.getMonth()+1,"/").concat(i.getDate()),i.setDate(i.getDate(Date)+7),o++;for(o=1,(i=new Date(2020,2,15)).setDate(i.getDate(Date)+7*(a-1));o<=5&&a-o>=0;)s[a-o]="".concat(i.getMonth()+1,"/").concat(i.getDate()),i.setDate(i.getDate(Date)-7),o++;return(i=new Date(2020,2,15)).setDate(i.getDate(Date)+7*a),[i,s]},r.handleScoreTypeSelect=function(e){r.setState({scoreType:e.target.value},(function(){r.map.fetchData(r.state.dynamicMapOn,!0)}))},r.state={areas:r.props.areas||[],areasList:[],latestDate:"",mainGraphData:{},weeks:r.props.weeks||0,latestWeek:0,dynamicMapOn:!1,noDataError:!1,errorDescription:"",scoreType:"reproduction"},r.addAreaByStr=r.addAreaByStr.bind(Object(C.a)(r)),r.removeAreaByStr=r.removeAreaByStr.bind(Object(C.a)(r)),r.onValuesChange=r.onValuesChange.bind(Object(C.a)(r)),r.onMapClick=r.onMapClick.bind(Object(C.a)(r)),r.onWeeksChange=r.onWeeksChange.bind(Object(C.a)(r)),r.switchDynamicMap=r.switchDynamicMap.bind(Object(C.a)(r)),r.onAlertClose=r.onAlertClose.bind(Object(C.a)(r)),r.onNoData=r.onNoData.bind(Object(C.a)(r)),r.generateMarks=r.generateMarks.bind(Object(C.a)(r)),r.handleScoreTypeSelect=r.handleScoreTypeSelect.bind(Object(C.a)(r)),r}return Object(c.a)(t,[{key:"onMapClick",value:function(e){this.areaIsSelected(e)||this.addAreaByStr(F(e))}},{key:"areaIsSelected",value:function(e){if(this.state.areas&&e){var a=F(e);return this.state.areas.includes(a)}return!1}},{key:"addAreaByStr",value:function(e){var a=this,t=G(e);this.setState((function(a){return{areas:[].concat(Object(D.a)(a.areas),[e])}}),(function(){a.modelAPI.scores({state:t.state,country:t.country,weeks:a.state.latestWeek},(function(t){a.setState((function(a){return{mainGraphData:Object(k.a)({},a.mainGraphData,Object(E.a)({},e,t))}}))})),a.formRef.current.setFieldsValue({areas:a.state.areas})}))}},{key:"removeAreaByStr",value:function(e){this.setState((function(a){return{areas:a.areas.filter((function(a){return a!==e})),mainGraphData:Object.keys(a.mainGraphData).filter((function(a){return a!==e})).reduce((function(e,t){return Object(k.a)({},e,Object(E.a)({},t,a.mainGraphData[t]))}),{})}}))}},{key:"onValuesChange",value:function(e,a){var t=this.state.areas,r=a.areas;if(r&&t){var n=r.filter((function(e){return!t.includes(e)})),i=t.filter((function(e){return!r.includes(e)}));n.forEach(this.addAreaByStr),i.forEach(this.removeAreaByStr)}}},{key:"onWeeksChange",value:function(e){this.setState({weeks:e}),this.state.dynamicMapOn&&this.map.fetchData(this.state.dynamicMapOn)}},{key:"switchDynamicMap",value:function(e){this.setState({dynamicMapOn:e}),this.map.fetchData(e)}},{key:"render",value:function(){var e=this,a=this.state,t=a.areas,r=a.areasList,i=a.weeks,s=a.mainGraphData,o=a.dynamicMapOn,c=a.latestWeek,l=a.noDataError,d=a.errorDescription,f=a.scoreType,v=r.filter((function(a){return!e.areaIsSelected(a)})).map(F).sort().map((function(e){return n.a.createElement(ie,{key:e}," ",e," ")})),S=this.generateMarks(),E=Object(w.a)(S,2),k=E[0],D=E[1],C=k.getMonth()+1<10?"0".concat(k.getMonth()+1):k.getMonth()+1,M=k.getDate()<10?"0".concat(k.getDate()):k.getDate(),A="".concat(C,"/").concat(M);return n.a.createElement("div",{className:"score-page"},n.a.createElement(u.a,{type:"flex",justify:"space-around"},n.a.createElement(m.a,{span:10},l?n.a.createElement(b.a,{message:"".concat(d),description:"Please wait for our updates.",type:"error",closable:!0,onClose:this.onAlertClose}):null,n.a.createElement("div",{className:"form-wrapper"},n.a.createElement(y.a,{ref:this.formRef,onValuesChange:this.onValuesChange},n.a.createElement(y.a.Item,{label:"Areas",name:"areas",rules:[{required:!0,message:"Please select areas!"}]},n.a.createElement(O.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select Areas"},v)),n.a.createElement(y.a.Item,{label:"Week to check",name:"weeks",rules:[{required:!0,message:"Please select the week you want to see"}]},n.a.createElement(g.a,{marks:D,initialValue:i,min:i-5>=0?i-5:0,max:i+5<=c?i+5:c,onAfterChange:this.onWeeksChange}))),n.a.createElement("div",{className:"radio-group"},"Data Type:\xa0\xa0",n.a.createElement(p.a.Group,{value:f,onChange:this.handleScoreTypeSelect},n.a.createElement(p.a,{value:"reproduction"},"Dynamic Reproduction"),n.a.createElement(p.a,{value:"mfr"},"MFR"))),n.a.createElement("p",null,"Dynamic Map:\xa0\xa0",n.a.createElement(h.a,{onChange:this.switchDynamicMap})))),n.a.createElement(m.a,{span:14},n.a.createElement("div",{className:"map-wrapper"},n.a.createElement(ne,{className:"score-map",triggerRef:this.bindRef,dynamicMapOn:o,weeks:i,latestWeek:c,onMapClick:this.onMapClick,onNoData:this.onNoData,scoreType:f})))),t.length?n.a.createElement(u.a,null,n.a.createElement(m.a,{span:24},n.a.createElement("div",{className:"graph-wrapper"},n.a.createElement(re,{data:s,date:A,scoreType:f})))):null)}}]),t}(r.PureComponent),oe=t(576),ce=t(66),le=(t(968),t(198)),de=(t(970),function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(o.a)(this,t),(r=a.call(this,e)).handleItemClick=function(e){var a=r.props,t=a.redirectForecast,n=a.redirectAbout,i=a.redirectScore,s=a.redirectLeaderboard,o=a.redirectHighlights,c=e.key;r.setState({activeItem:e.key}),"forecast"===c?t():"information"===c?n():"quarantine-score"===c?i():"leaderboard"===c?s():"highlights"===c&&o()},r.state={activateItem:"forecast"},r}return Object(c.a)(t,[{key:"render",value:function(){var e=window.location.href;return n.a.createElement(u.a,{className:"navbar-container"},n.a.createElement(m.a,null,n.a.createElement("img",{className:"logo",src:"https://identity.usc.edu/files/2011/12/combo_gold_white_cardinal.png",alt:"USC"})),n.a.createElement(m.a,null,n.a.createElement(le.a,{theme:"light",mode:"horizontal",onClick:this.handleItemClick,defaultSelectedKeys:e.includes("score")?["quarantine-score"]:e.includes("about")?["information"]:e.includes("leaderboard")?["leaderboard"]:e.includes("highlights")?["highlights"]:["forecast"]},n.a.createElement(le.a.Item,{key:"forecast"},"COVID-19 Forecast"),n.a.createElement(le.a.Item,{key:"quarantine-score"},"Reproduction Number"),n.a.createElement(le.a.Item,{key:"highlights"},"Highlights"),n.a.createElement(le.a.Item,{key:"leaderboard"},"Leaderboard"),n.a.createElement(le.a.Item,{key:"information"},"About Us"))))}}]),t}(r.Component)),ue=(t(977),t(1044),t(75)),me=(t(981),t(571)),he=(t(983),t(567)),pe=t.n(he),fe=t(568),ve=t.n(fe),ge=t(569),ye=t.n(ge),be=t(570),Se=t.n(be),Ee={jhu:{runningAvgRankings:[{model:{name:"USC - SI-kJalpha using the JHU ",description:"This is our SI-kJalpha trained on the Johns Hopkins University's Covid19 dataset.",link:"https://scc-usc.github.io/ReCOVER-COVID-19/"},RMSE:39.44},{model:{name:"YYG - ParamSearch",description:"Based on the SEIR model to make daily projections regarding                     COVID-19 infections and deaths in 50 US states.                     The model's contributor is Youyang Gu.",link:"http://covid19-projections.com/about/"},RMSE:45.61},{model:{name:"Covid19 Simulator",description:"An interactive tool developed by researchers at Mass General Hospital,                     Harvard Medical School, Georgia Tech and Boston Medical Center.",link:"https://covid19sim.org/"},RMSE:61.75}],recentRankings:[{model:{name:"USC - SI-kJalpha using the Johns Hopkins University's Covid19 ",description:"This is our SI-kJalpha trained on the Johns Hopkins University's Covid19 dataset.",link:"https://scc-usc.github.io/ReCOVER-COVID-19/"},RMSE:36.39},{model:{name:"YYG - ParamSearch",description:"Based on the SEIR model to make daily projections regarding                     COVID-19 infections and deaths in 50 US states.                     The model's contributor is Youyang Gu.",link:"http://covid19-projections.com/about/"},RMSE:43.35},{model:{name:"Covid19 Simulator",description:"An interactive tool developed by researchers at Mass General Hospital,                     Harvard Medical School, Georgia Tech and Boston Medical Center.",link:"https://covid19sim.org/"},RMSE:48.9}]},nyt:{runningAvgRankings:[{model:{name:"USC - SI-kJalpha using the NYTimes ",description:"This is our SI-kJalpha trained on the New York Times dataset.",link:"https://scc-usc.github.io/ReCOVER-COVID-19/"},RMSE:45.65},{model:{name:"UCLA - SuEIR",description:"SEIR model by UCLA Statistical Machine Learning Lab.",link:"https://covid19.uclaml.org/"},RMSE:80.64},{model:{name:"Iowa State Lily Wang's Research Group - Spatiotemporal Epidemic Modeling",description:"A COVID19 forecast project led by Lily Wang in Iowa State University.",link:"https://covid19.stat.iastate.edu"},RMSE:113.14},{model:{name:"CovidActNow - SEIR_CAN",description:"SEIR model by the CovidActNow research team.",link:"https://covidactnow.org/"},RMSE:123.78}],recentRankings:[{model:{name:"USC - SI-kJalpha using the NYTimes ",description:"This is our SI-kJalpha trained on the New York Times dataset.",link:"https://scc-usc.github.io/ReCOVER-COVID-19/"},RMSE:33.74},{model:{name:"UCLA - SuEIR",description:"SEIR model by UCLA Statistical Machine Learning Lab.",link:"https://covid19.uclaml.org/"},RMSE:44.14},{model:{name:"Iowa State Lily Wang's Research Group - Spatiotemporal Epidemic Modeling",description:"A COVID19 forecast project led by Lily Wang in Iowa State University.",link:"https://covid19.stat.iastate.edu"},RMSE:71.18},{model:{name:"CovidActNow - SEIR_CAN",description:"SEIR model by the CovidActNow research team.",link:"https://covidactnow.org/"},RMSE:111.92}]},usafacts:{runningAvgRankings:[{model:{name:"USC - SI-kJalpha using the USAFACTS ",description:"This is our SI-kJalpha trained on the USAFACTS Covid19 dataset.",link:"https://scc-usc.github.io/ReCOVER-COVID-19/"},RMSE:42.6},{model:{name:"Columbia University - SELECT",description:"A metapopulation county-level SEIR model by Columbia University.",link:"https://blogs.cuit.columbia.edu/jls106/publications/covid-19-findings-simulations/"},RMSE:88.69},{model:{name:"JHU - IDD",description:" County-level metapopulation model by Johns Hopkins ID Dynamics COVID-19 Working Group.",link:"https://github.com/HopkinsIDD/COVIDScenarioPipeline"},RMSE:112.69}],recentRankings:[{model:{name:"USC - SI-kJalpha using the USAFACTS ",description:"This is our SI-kJalpha trained on the USAFACTS Covid19 dataset.",link:"https://scc-usc.github.io/ReCOVER-COVID-19/"},RMSE:38.97},{model:{name:"JHU - IDD",description:" County-level metapopulation model by Johns Hopkins ID Dynamics COVID-19 Working Group.",link:"https://github.com/HopkinsIDD/COVIDScenarioPipeline"},RMSE:55.32},{model:{name:"Columbia University - SELECT",description:"A metapopulation county-level SEIR model by Columbia University.",link:"https://blogs.cuit.columbia.edu/jls106/publications/covid-19-findings-simulations/"},RMSE:67.86}]}},ke=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"getAvatar",value:function(e){var a="";switch(e){case 1:a="https://img.icons8.com/officel/80/000000/medal2.png";break;case 2:a="https://img.icons8.com/officel/80/000000/medal-second-place.png";break;case 3:a="https://img.icons8.com/officel/80/000000/medal2-third-place.png";break;default:a="https://img.icons8.com/carbon-copy/100/000000/"+e+"-circle.png"}return n.a.createElement(me.a,{className:"rank-number",src:a,alt:""})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"page-wrapper"},n.a.createElement("div",{className:"grid"},n.a.createElement(u.a,null,n.a.createElement(m.a,{span:8},n.a.createElement("h1",{className:"title"},"Leaderboard of models on NYTimes dataset"),n.a.createElement("h2",{className:"title"},"Running Average Performance"),n.a.createElement(ue.a,{className:"leaderboard",itemLayout:"horizontal",dataSource:Ee.nyt.runningAvgRankings,renderItem:function(a){return n.a.createElement(ue.a.Item,null,n.a.createElement(ue.a.Item.Meta,{avatar:e.getAvatar(Ee.nyt.runningAvgRankings.indexOf(a)+1),title:n.a.createElement("a",{className:"model-name",href:a.model.link},a.model.name),description:a.model.description}),n.a.createElement("div",{className:"content"},n.a.createElement("span",{className:"score-description"},"RMSE: ",n.a.createElement("span",{className:"score"},a.RMSE))))}})),n.a.createElement(m.a,{span:8},n.a.createElement("h1",{className:"title"},"Leaderboard of models on JHU dataset"),n.a.createElement("h2",{className:"title"},"Running Average Performance"),n.a.createElement(ue.a,{className:"leaderboard",itemLayout:"horizontal",dataSource:Ee.jhu.runningAvgRankings,renderItem:function(a){return n.a.createElement(ue.a.Item,null,n.a.createElement(ue.a.Item.Meta,{avatar:e.getAvatar(Ee.jhu.runningAvgRankings.indexOf(a)+1),title:n.a.createElement("a",{className:"model-name",href:a.model.link},a.model.name),description:a.model.description}),n.a.createElement("div",{className:"content"},n.a.createElement("span",null,"RMSE: ",n.a.createElement("span",{className:"score"},a.RMSE))))}})),n.a.createElement(m.a,{span:8},n.a.createElement("h1",{className:"title"},"Leaderboard of models on USAFACTS dataset"),n.a.createElement("h2",{className:"title"},"Running Average Performance"),n.a.createElement(ue.a,{className:"leaderboard",itemLayout:"horizontal",dataSource:Ee.usafacts.runningAvgRankings,renderItem:function(a){return n.a.createElement(ue.a.Item,null,n.a.createElement(ue.a.Item.Meta,{avatar:e.getAvatar(Ee.usafacts.runningAvgRankings.indexOf(a)+1),title:n.a.createElement("a",{className:"model-name",href:a.model.link},a.model.name),description:a.model.description}),n.a.createElement("div",{className:"content"},n.a.createElement("span",null,"RMSE: ",n.a.createElement("span",{className:"score"},a.RMSE))))}}))),n.a.createElement(u.a,null,n.a.createElement(m.a,{span:8},n.a.createElement("h2",{className:"title"},"Recent Performance (from 2020-06-22)"),n.a.createElement(ue.a,{className:"leaderboard",itemLayout:"horizontal",dataSource:Ee.nyt.recentRankings,renderItem:function(a){return n.a.createElement(ue.a.Item,null,n.a.createElement(ue.a.Item.Meta,{avatar:e.getAvatar(Ee.nyt.recentRankings.indexOf(a)+1),title:n.a.createElement("a",{className:"model-name",href:a.model.link},a.model.name),description:a.model.description}),n.a.createElement("div",{className:"content"},n.a.createElement("span",null,"RMSE: ",n.a.createElement("span",{className:"score"},a.RMSE))))}})),n.a.createElement(m.a,{span:8},n.a.createElement("h2",{className:"title"},"Recent Performance (from 2020-06-22)"),n.a.createElement(ue.a,{className:"leaderboard",itemLayout:"horizontal",dataSource:Ee.jhu.recentRankings,renderItem:function(a){return n.a.createElement(ue.a.Item,null,n.a.createElement(ue.a.Item.Meta,{avatar:e.getAvatar(Ee.jhu.recentRankings.indexOf(a)+1),title:n.a.createElement("a",{className:"model-name",href:a.model.link},a.model.name),description:a.model.description}),n.a.createElement("div",{className:"content"},n.a.createElement("span",null,"RMSE: ",n.a.createElement("span",{className:"score"},a.RMSE))))}})),n.a.createElement(m.a,{span:8},n.a.createElement("h2",{className:"title"},"Recent Performance (from 2020-06-22)"),n.a.createElement(ue.a,{className:"leaderboard",itemLayout:"horizontal",dataSource:Ee.usafacts.recentRankings,renderItem:function(a){return n.a.createElement(ue.a.Item,null,n.a.createElement(ue.a.Item.Meta,{avatar:e.getAvatar(Ee.usafacts.recentRankings.indexOf(a)+1),title:n.a.createElement("a",{className:"model-name",href:a.model.link},a.model.name),description:a.model.description}),n.a.createElement("div",{className:"content"},n.a.createElement("span",null,"RMSE: ",n.a.createElement("span",{className:"score"},a.RMSE))))}}))),n.a.createElement(u.a,null,n.a.createElement(m.a,{span:8},n.a.createElement("img",{className:"graph",src:pe.a})),n.a.createElement(m.a,{span:8},n.a.createElement("img",{className:"graph",src:ve.a})),n.a.createElement(m.a,{span:8},n.a.createElement("img",{className:"graph",src:ye.a}))),n.a.createElement(u.a,null,n.a.createElement("div",{className:"main-graph-container"},n.a.createElement("img",{className:"graph",src:Se.a}))),n.a.createElement("p",{className:"clarification"},n.a.createElement("b",null,"Evaluation method:")," Since there are some discrepancies among different data sources (JHU, NY Times, and USA Facts), we performed a separate evaluation for each dataset. ",n.a.createElement("br",null),"We trained our model using each of the three datasets and use the forecasts in the respective evaluations. The chosen evaluation metric is Root Mean Squared Error (RMSE) of daily new deaths computed ",n.a.createElement("br",null),"over the next two weeks from the day of the forecasts. ",n.a.createElement("br",null),"Please contact us at ",n.a.createElement("a",{className:"article-anchor",href:"mailto:ajiteshs@usc.edu"},"ajiteshs@usc.edu"),"to add your model to the leaderboard."),n.a.createElement("p",{className:"disclaimer"},n.a.createElement("b",null,"Disclaimer:")," The above Covid-19 forecast reports may have copyright restrictions. You may visit the website of their original work by clicking on their model names. ",n.a.createElement("br",null),"All credits for predictions go to the respective owners of the forecast reports. The ReCover-Covid-19 website does not hold responsibility or liability for prediction accuracy of prediction reports that are not generated by USC Data Science lab.")))}}]),t}(r.Component),De=t(270),Ce=(t(1028),t(574));function Oe(e){var a=Object(r.useState)(null),t=Object(w.a)(a,2),i=t[0],s=t[1];function o(e){var a=e.numPages;s(a),document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var a=e.style;a.top="0",a.left="0",a.transform=""}))}var c=e.pdf;return n.a.createElement(Ce.SizeMe,{monitorHeight:!0,refreshRate:128,refreshMode:"debounce",render:function(e){var a=e.size;return n.a.createElement("div",null,n.a.createElement(De.Document,{file:c,options:{workerSrc:"pdf.worker.js"},onLoadSuccess:o},Array.from(new Array(i),(function(e,t){return n.a.createElement(De.Page,{width:a.width,key:"page_".concat(t+1),pageNumber:t+1})}))))}})}De.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(De.pdfjs.version,"/pdf.worker.js");var we=t(575),Me=t.n(we),Ae=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(o.a)(this,t),(r=a.call(this,e)).redirectForecast=function(){r.setState({redirectForecast:!0,redirectAbout:!1,redirectScore:!1,redirectLeaderboard:!1,redirectHighlights:!1})},r.redirectAbout=function(){r.setState({redirectForecast:!1,redirectAbout:!0,redirectScore:!1,redirectLeaderboard:!1,redirectHighlights:!1})},r.redirectScore=function(){r.setState({redirectForecast:!1,redirectAbout:!1,redirectScore:!0,redirectHighlights:!1,redirectLeaderboard:!1})},r.redirectLeaderboard=function(){r.setState({redirectForecast:!1,redirectAbout:!1,redirectScore:!1,redirectLeaderboard:!0,redirectHighlights:!1})},r.redirectHighlights=function(){r.setState({redirectForecast:!1,redirectAbout:!1,redirectScore:!1,redirectLeaderboard:!1,redirectHighlights:!0})},r.state={redirectForecast:!1,redirectAbout:!1,redirectScore:!1,redirectLeaderboard:!1,redirectHighlights:!1},r}return Object(c.a)(t,[{key:"render",value:function(){var e=this.state,a=e.redirectForecast,t=e.redirectAbout,r=e.redirectScore,i=e.redirectLeaderboard,s=e.redirectHighlights;return n.a.createElement(oe.a,{basename:"/"},a?n.a.createElement(ce.a,{to:"/"}):null,s?n.a.createElement(ce.a,{to:"/highlights"}):null,r?n.a.createElement(ce.a,{to:"/score"}):null,t?n.a.createElement(ce.a,{to:"/about"}):null,i?n.a.createElement(ce.a,{to:"/leaderboard"}):null,n.a.createElement(de,{redirectForecast:this.redirectForecast,redirectHighlights:this.redirectHighlights,redirectScore:this.redirectScore,redirectAbout:this.redirectAbout,redirectLeaderboard:this.redirectLeaderboard}),n.a.createElement(ce.d,null,n.a.createElement(ce.b,{exact:!0,path:"/",render:function(e){return n.a.createElement($,e)}}),n.a.createElement(ce.b,{exact:!0,path:"/score",render:function(e){return n.a.createElement(se,e)}}),n.a.createElement(ce.b,{exact:!0,path:"/about",render:function(e){return n.a.createElement(Z,e)}}),n.a.createElement(ce.b,{exact:!0,path:"/leaderboard",render:function(e){return n.a.createElement(ke,e)}}),n.a.createElement(ce.b,{exact:!0,path:"/highlights"},n.a.createElement(Oe,{pdf:Me.a}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},300:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=300},397:function(e,a,t){},567:function(e,a,t){e.exports=t.p+"static/media/nyt_graph.32121536.png"},568:function(e,a,t){e.exports=t.p+"static/media/jhu_graph.748ca91e.png"},569:function(e,a,t){e.exports=t.p+"static/media/usf_graph.6d8464eb.png"},570:function(e,a,t){e.exports=t.p+"static/media/all_graph.93f37691.png"},575:function(e,a,t){e.exports=t.p+"static/media/highlights.b31ea6a7.pdf"},640:function(e,a,t){e.exports=t(1043)},645:function(e,a,t){},798:function(e,a,t){},885:function(e,a,t){},967:function(e,a,t){},970:function(e,a,t){},983:function(e,a,t){},991:function(e,a){},993:function(e,a){},994:function(e,a){},995:function(e,a){},996:function(e,a){}},[[640,1,3]]]);
//# sourceMappingURL=main.40fb53ce.chunk.js.map