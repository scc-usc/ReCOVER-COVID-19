{"ast":null,"code":"import { geoProjectionMutator as projectionMutator } from \"d3-geo\";\nimport { abs, asin, atan2, cos, epsilon, halfPi, pow, sign, sin } from \"./math.js\";\nexport function lagrangeRaw(n) {\n  function forward(lambda, phi) {\n    if (abs(abs(phi) - halfPi) < epsilon) return [0, phi < 0 ? -2 : 2];\n    var sinPhi = sin(phi),\n        v = pow((1 + sinPhi) / (1 - sinPhi), n / 2),\n        c = 0.5 * (v + 1 / v) + cos(lambda *= n);\n    return [2 * sin(lambda) / c, (v - 1 / v) / c];\n  }\n\n  forward.invert = function (x, y) {\n    var y0 = abs(y);\n    if (abs(y0 - 2) < epsilon) return x ? null : [0, sign(y) * halfPi];\n    if (y0 > 2) return null;\n    x /= 2, y /= 2;\n    var x2 = x * x,\n        y2 = y * y,\n        t = 2 * y / (1 + x2 + y2); // tanh(nPhi)\n\n    t = pow((1 + t) / (1 - t), 1 / n);\n    return [atan2(2 * x, 1 - x2 - y2) / n, asin((t - 1) / (t + 1))];\n  };\n\n  return forward;\n}\nexport default function () {\n  var n = 0.5,\n      m = projectionMutator(lagrangeRaw),\n      p = m(n);\n\n  p.spacing = function (_) {\n    return arguments.length ? m(n = +_) : n;\n  };\n\n  return p.scale(124.75);\n}","map":{"version":3,"sources":["/Users/tianjianxu/Documents/GitHub/ReCOVER-COVID-19/frontend/node_modules/d3-geo-projection/src/lagrange.js"],"names":["geoProjectionMutator","projectionMutator","abs","asin","atan2","cos","epsilon","halfPi","pow","sign","sin","lagrangeRaw","n","forward","lambda","phi","sinPhi","v","c","invert","x","y","y0","x2","y2","t","m","p","spacing","_","arguments","length","scale"],"mappings":"AAAA,SAAQA,oBAAoB,IAAIC,iBAAhC,QAAwD,QAAxD;AACA,SAAQC,GAAR,EAAaC,IAAb,EAAmBC,KAAnB,EAA0BC,GAA1B,EAA+BC,OAA/B,EAAwCC,MAAxC,EAAgDC,GAAhD,EAAqDC,IAArD,EAA2DC,GAA3D,QAAqE,WAArE;AAEA,OAAO,SAASC,WAAT,CAAqBC,CAArB,EAAwB;AAE7B,WAASC,OAAT,CAAiBC,MAAjB,EAAyBC,GAAzB,EAA8B;AAC5B,QAAIb,GAAG,CAACA,GAAG,CAACa,GAAD,CAAH,GAAWR,MAAZ,CAAH,GAAyBD,OAA7B,EAAsC,OAAO,CAAC,CAAD,EAAIS,GAAG,GAAG,CAAN,GAAU,CAAC,CAAX,GAAe,CAAnB,CAAP;AACtC,QAAIC,MAAM,GAAGN,GAAG,CAACK,GAAD,CAAhB;AAAA,QACIE,CAAC,GAAGT,GAAG,CAAC,CAAC,IAAIQ,MAAL,KAAgB,IAAIA,MAApB,CAAD,EAA8BJ,CAAC,GAAG,CAAlC,CADX;AAAA,QAEIM,CAAC,GAAG,OAAOD,CAAC,GAAG,IAAIA,CAAf,IAAoBZ,GAAG,CAACS,MAAM,IAAIF,CAAX,CAF/B;AAGA,WAAO,CACL,IAAIF,GAAG,CAACI,MAAD,CAAP,GAAkBI,CADb,EAEL,CAACD,CAAC,GAAG,IAAIA,CAAT,IAAcC,CAFT,CAAP;AAID;;AAEDL,EAAAA,OAAO,CAACM,MAAR,GAAiB,UAASC,CAAT,EAAYC,CAAZ,EAAe;AAC9B,QAAIC,EAAE,GAAGpB,GAAG,CAACmB,CAAD,CAAZ;AACA,QAAInB,GAAG,CAACoB,EAAE,GAAG,CAAN,CAAH,GAAchB,OAAlB,EAA2B,OAAOc,CAAC,GAAG,IAAH,GAAU,CAAC,CAAD,EAAIX,IAAI,CAACY,CAAD,CAAJ,GAAUd,MAAd,CAAlB;AAC3B,QAAIe,EAAE,GAAG,CAAT,EAAY,OAAO,IAAP;AAEZF,IAAAA,CAAC,IAAI,CAAL,EAAQC,CAAC,IAAI,CAAb;AACA,QAAIE,EAAE,GAAGH,CAAC,GAAGA,CAAb;AAAA,QACII,EAAE,GAAGH,CAAC,GAAGA,CADb;AAAA,QAEII,CAAC,GAAG,IAAIJ,CAAJ,IAAS,IAAIE,EAAJ,GAASC,EAAlB,CAFR,CAN8B,CAQC;;AAC/BC,IAAAA,CAAC,GAAGjB,GAAG,CAAC,CAAC,IAAIiB,CAAL,KAAW,IAAIA,CAAf,CAAD,EAAoB,IAAIb,CAAxB,CAAP;AACA,WAAO,CACLR,KAAK,CAAC,IAAIgB,CAAL,EAAQ,IAAIG,EAAJ,GAASC,EAAjB,CAAL,GAA4BZ,CADvB,EAELT,IAAI,CAAC,CAACsB,CAAC,GAAG,CAAL,KAAWA,CAAC,GAAG,CAAf,CAAD,CAFC,CAAP;AAID,GAdD;;AAgBA,SAAOZ,OAAP;AACD;AAED,eAAe,YAAW;AACxB,MAAID,CAAC,GAAG,GAAR;AAAA,MACIc,CAAC,GAAGzB,iBAAiB,CAACU,WAAD,CADzB;AAAA,MAEIgB,CAAC,GAAGD,CAAC,CAACd,CAAD,CAFT;;AAIAe,EAAAA,CAAC,CAACC,OAAF,GAAY,UAASC,CAAT,EAAY;AACtB,WAAOC,SAAS,CAACC,MAAV,GAAmBL,CAAC,CAACd,CAAC,GAAG,CAACiB,CAAN,CAApB,GAA+BjB,CAAtC;AACD,GAFD;;AAIA,SAAOe,CAAC,CACHK,KADE,CACI,MADJ,CAAP;AAED","sourcesContent":["import {geoProjectionMutator as projectionMutator} from \"d3-geo\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pow, sign, sin} from \"./math.js\";\n\nexport function lagrangeRaw(n) {\n\n  function forward(lambda, phi) {\n    if (abs(abs(phi) - halfPi) < epsilon) return [0, phi < 0 ? -2 : 2];\n    var sinPhi = sin(phi),\n        v = pow((1 + sinPhi) / (1 - sinPhi), n / 2),\n        c = 0.5 * (v + 1 / v) + cos(lambda *= n);\n    return [\n      2 * sin(lambda) / c,\n      (v - 1 / v) / c\n    ];\n  }\n\n  forward.invert = function(x, y) {\n    var y0 = abs(y);\n    if (abs(y0 - 2) < epsilon) return x ? null : [0, sign(y) * halfPi];\n    if (y0 > 2) return null;\n\n    x /= 2, y /= 2;\n    var x2 = x * x,\n        y2 = y * y,\n        t = 2 * y / (1 + x2 + y2); // tanh(nPhi)\n    t = pow((1 + t) / (1 - t), 1 / n);\n    return [\n      atan2(2 * x, 1 - x2 - y2) / n,\n      asin((t - 1) / (t + 1))\n    ];\n  };\n\n  return forward;\n}\n\nexport default function() {\n  var n = 0.5,\n      m = projectionMutator(lagrangeRaw),\n      p = m(n);\n\n  p.spacing = function(_) {\n    return arguments.length ? m(n = +_) : n;\n  };\n\n  return p\n      .scale(124.75);\n}\n"]},"metadata":{},"sourceType":"module"}