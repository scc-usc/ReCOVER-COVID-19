{"ast":null,"code":"import { geoProjection as projection } from \"d3-geo\";\nimport { abs, acos, asin, atan, cos, epsilon, halfPi, pi, sign, sin, sqrt, tan } from \"./math.js\";\nexport function vanDerGrintenRaw(lambda, phi) {\n  if (abs(phi) < epsilon) return [lambda, 0];\n  var sinTheta = abs(phi / halfPi),\n      theta = asin(sinTheta);\n  if (abs(lambda) < epsilon || abs(abs(phi) - halfPi) < epsilon) return [0, sign(phi) * pi * tan(theta / 2)];\n  var cosTheta = cos(theta),\n      A = abs(pi / lambda - lambda / pi) / 2,\n      A2 = A * A,\n      G = cosTheta / (sinTheta + cosTheta - 1),\n      P = G * (2 / sinTheta - 1),\n      P2 = P * P,\n      P2_A2 = P2 + A2,\n      G_P2 = G - P2,\n      Q = A2 + G;\n  return [sign(lambda) * pi * (A * G_P2 + sqrt(A2 * G_P2 * G_P2 - P2_A2 * (G * G - P2))) / P2_A2, sign(phi) * pi * (P * Q - A * sqrt((A2 + 1) * P2_A2 - Q * Q)) / P2_A2];\n}\n\nvanDerGrintenRaw.invert = function (x, y) {\n  if (abs(y) < epsilon) return [x, 0];\n  if (abs(x) < epsilon) return [0, halfPi * sin(2 * atan(y / pi))];\n  var x2 = (x /= pi) * x,\n      y2 = (y /= pi) * y,\n      x2_y2 = x2 + y2,\n      z = x2_y2 * x2_y2,\n      c1 = -abs(y) * (1 + x2_y2),\n      c2 = c1 - 2 * y2 + x2,\n      c3 = -2 * c1 + 1 + 2 * y2 + z,\n      d = y2 / c3 + (2 * c2 * c2 * c2 / (c3 * c3 * c3) - 9 * c1 * c2 / (c3 * c3)) / 27,\n      a1 = (c1 - c2 * c2 / (3 * c3)) / c3,\n      m1 = 2 * sqrt(-a1 / 3),\n      theta1 = acos(3 * d / (a1 * m1)) / 3;\n  return [pi * (x2_y2 - 1 + sqrt(1 + 2 * (x2 - y2) + z)) / (2 * x), sign(y) * pi * (-m1 * cos(theta1 + pi / 3) - c2 / (3 * c3))];\n};\n\nexport default function () {\n  return projection(vanDerGrintenRaw).scale(79.4183);\n}","map":{"version":3,"sources":["/Users/tianjianxu/Documents/GitHub/ReCOVER-COVID-19/frontend/node_modules/d3-geo-projection/src/vanDerGrinten.js"],"names":["geoProjection","projection","abs","acos","asin","atan","cos","epsilon","halfPi","pi","sign","sin","sqrt","tan","vanDerGrintenRaw","lambda","phi","sinTheta","theta","cosTheta","A","A2","G","P","P2","P2_A2","G_P2","Q","invert","x","y","x2","y2","x2_y2","z","c1","c2","c3","d","a1","m1","theta1","scale"],"mappings":"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","sourcesContent":["import {geoProjection as projection} from \"d3-geo\";\nimport {abs, acos, asin, atan, cos, epsilon, halfPi, pi, sign, sin, sqrt, tan} from \"./math.js\";\n\nexport function vanDerGrintenRaw(lambda, phi) {\n  if (abs(phi) < epsilon) return [lambda, 0];\n  var sinTheta = abs(phi / halfPi),\n      theta = asin(sinTheta);\n  if (abs(lambda) < epsilon || abs(abs(phi) - halfPi) < epsilon) return [0, sign(phi) * pi * tan(theta / 2)];\n  var cosTheta = cos(theta),\n      A = abs(pi / lambda - lambda / pi) / 2,\n      A2 = A * A,\n      G = cosTheta / (sinTheta + cosTheta - 1),\n      P = G * (2 / sinTheta - 1),\n      P2 = P * P,\n      P2_A2 = P2 + A2,\n      G_P2 = G - P2,\n      Q = A2 + G;\n  return [\n    sign(lambda) * pi * (A * G_P2 + sqrt(A2 * G_P2 * G_P2 - P2_A2 * (G * G - P2))) / P2_A2,\n    sign(phi) * pi * (P * Q - A * sqrt((A2 + 1) * P2_A2 - Q * Q)) / P2_A2\n  ];\n}\n\nvanDerGrintenRaw.invert = function(x, y) {\n  if (abs(y) < epsilon) return [x, 0];\n  if (abs(x) < epsilon) return [0, halfPi * sin(2 * atan(y / pi))];\n  var x2 = (x /= pi) * x,\n      y2 = (y /= pi) * y,\n      x2_y2 = x2 + y2,\n      z = x2_y2 * x2_y2,\n      c1 = -abs(y) * (1 + x2_y2),\n      c2 = c1 - 2 * y2 + x2,\n      c3 = -2 * c1 + 1 + 2 * y2 + z,\n      d = y2 / c3 + (2 * c2 * c2 * c2 / (c3 * c3 * c3) - 9 * c1 * c2 / (c3 * c3)) / 27,\n      a1 = (c1 - c2 * c2 / (3 * c3)) / c3,\n      m1 = 2 * sqrt(-a1 / 3),\n      theta1 = acos(3 * d / (a1 * m1)) / 3;\n  return [\n    pi * (x2_y2 - 1 + sqrt(1 + 2 * (x2 - y2) + z)) / (2 * x),\n    sign(y) * pi * (-m1 * cos(theta1 + pi / 3) - c2 / (3 * c3))\n  ];\n};\n\nexport default function() {\n  return projection(vanDerGrintenRaw)\n      .scale(79.4183);\n}\n"]},"metadata":{},"sourceType":"module"}