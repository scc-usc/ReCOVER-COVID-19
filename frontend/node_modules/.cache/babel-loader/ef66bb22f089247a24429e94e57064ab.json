{"ast":null,"code":"import React, { memo, useMemo, useCallback, useState, Fragment, useRef, useEffect } from 'react';\nimport { lineCurvePropType, blendModePropType, motionPropTypes, curveFromProp, useValueFormatter, useTheme, useMotionConfig, SmartMotion, getLabelGenerator, DotsItem, withContainer, useDimensions, CartesianMarkers, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect } from '@nivo/core';\nimport { ordinalColorsPropType, useOrdinalColorScale, useInheritedColor } from '@nivo/colors';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { BasicTooltip, TableTooltip, crosshairPropTypes, useTooltip, Crosshair } from '@nivo/tooltip';\nimport { line, area } from 'd3-shape';\nimport { scalePropType, computeXYScalesForSeries } from '@nivo/scales';\nimport PropTypes from 'prop-types';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { Mesh as Mesh$2, useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi';\n\nvar LinePointTooltip = function LinePointTooltip(_ref) {\n  var point = _ref.point;\n  return React.createElement(BasicTooltip, {\n    id: React.createElement(\"span\", null, \"x: \", React.createElement(\"strong\", null, point.data.xFormatted), \", y:\", ' ', React.createElement(\"strong\", null, point.data.yFormatted)),\n    enableChip: true,\n    color: point.serieColor\n  });\n};\n\nLinePointTooltip.propTypes = {\n  point: PropTypes.object.isRequired\n};\nvar PointTooltip = memo(LinePointTooltip);\n\nvar Chip = function Chip(_ref) {\n  var color = _ref.color;\n  return React.createElement(\"span\", {\n    style: {\n      display: 'block',\n      width: '12px',\n      height: '12px',\n      background: color\n    }\n  });\n};\n\nChip.propTypes = {\n  color: PropTypes.string.isRequired\n};\n\nvar SliceTooltip = function SliceTooltip(_ref2) {\n  var slice = _ref2.slice,\n      axis = _ref2.axis;\n  var otherAxis = axis === 'x' ? 'y' : 'x';\n  return React.createElement(TableTooltip, {\n    rows: slice.points.map(function (point) {\n      return [React.createElement(Chip, {\n        key: \"chip\",\n        color: point.serieColor\n      }), point.serieId, React.createElement(\"strong\", {\n        key: \"value\"\n      }, point.data[\"\".concat(otherAxis, \"Formatted\")])];\n    })\n  });\n};\n\nSliceTooltip.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired\n};\nvar SliceTooltip$1 = memo(SliceTooltip);\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar commonPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]),\n      y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n    })).isRequired\n  })).isRequired,\n  xScale: scalePropType.isRequired,\n  xFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  yScale: scalePropType.isRequired,\n  yFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'slices', 'points', 'mesh', 'legends']), PropTypes.func])).isRequired,\n  curve: lineCurvePropType.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  gridXValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  gridYValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  enablePoints: PropTypes.bool.isRequired,\n  pointSymbol: PropTypes.func,\n  pointSize: PropTypes.number.isRequired,\n  pointColor: PropTypes.any.isRequired,\n  pointBorderWidth: PropTypes.number.isRequired,\n  pointBorderColor: PropTypes.any.isRequired,\n  markers: PropTypes.arrayOf(PropTypes.shape({\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    style: PropTypes.object\n  })),\n  colors: ordinalColorsPropType.isRequired,\n  enableArea: PropTypes.bool.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  areaBaselineValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  defs: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired\n  })).isRequired,\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  debugMesh: PropTypes.bool.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  enableSlices: PropTypes.oneOf(['x', 'y', false]).isRequired,\n  debugSlices: PropTypes.bool.isRequired,\n  sliceTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  enableCrosshair: PropTypes.bool.isRequired,\n  crosshairType: crosshairPropTypes.type.isRequired\n};\n\nvar LinePropTypes = _objectSpread({}, commonPropTypes, {\n  enablePointLabel: PropTypes.bool.isRequired,\n  useMesh: PropTypes.bool.isRequired\n}, motionPropTypes);\n\nvar LineCanvasPropTypes = _objectSpread({\n  pixelRatio: PropTypes.number.isRequired\n}, commonPropTypes);\n\nvar commonDefaultProps = {\n  curve: 'linear',\n  xScale: {\n    type: 'point'\n  },\n  yScale: {\n    type: 'linear',\n    min: 0,\n    max: 'auto'\n  },\n  layers: ['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'points', 'slices', 'mesh', 'legends'],\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: true,\n  enableGridY: true,\n  enablePoints: true,\n  pointSize: 6,\n  pointColor: {\n    from: 'color'\n  },\n  pointBorderWidth: 0,\n  pointBorderColor: {\n    theme: 'background'\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  enableArea: false,\n  areaBaselineValue: 0,\n  areaOpacity: 0.2,\n  areaBlendMode: 'normal',\n  lineWidth: 2,\n  defs: [],\n  legends: [],\n  isInteractive: true,\n  tooltip: PointTooltip,\n  enableSlices: false,\n  debugSlices: false,\n  sliceTooltip: SliceTooltip$1,\n  debugMesh: false,\n  enableCrosshair: true,\n  crosshairType: 'bottom-left'\n};\n\nvar LineDefaultProps = _objectSpread({}, commonDefaultProps, {\n  enablePointLabel: false,\n  useMesh: false,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 15\n});\n\nvar LineCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar useLineGenerator = function useLineGenerator(_ref) {\n  var curve = _ref.curve;\n  return useMemo(function () {\n    return line().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve));\n  }, [curve]);\n};\n\nvar useAreaGenerator = function useAreaGenerator(_ref2) {\n  var curve = _ref2.curve,\n      yScale = _ref2.yScale,\n      areaBaselineValue = _ref2.areaBaselineValue;\n  return useMemo(function () {\n    return area().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y1(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve)).y0(yScale(areaBaselineValue));\n  }, [curve, yScale, areaBaselineValue]);\n};\n\nvar usePoints = function usePoints(_ref3) {\n  var series = _ref3.series,\n      getPointColor = _ref3.getPointColor,\n      getPointBorderColor = _ref3.getPointBorderColor,\n      formatX = _ref3.formatX,\n      formatY = _ref3.formatY;\n  return useMemo(function () {\n    return series.reduce(function (acc, serie) {\n      return [].concat(_toConsumableArray(acc), _toConsumableArray(serie.data.filter(function (datum) {\n        return datum.position.x !== null && datum.position.y !== null;\n      }).map(function (datum, i) {\n        var point = {\n          id: \"\".concat(serie.id, \".\").concat(i),\n          index: acc.length + i,\n          serieId: serie.id,\n          serieColor: serie.color,\n          x: datum.position.x,\n          y: datum.position.y\n        };\n        point.color = getPointColor(serie);\n        point.borderColor = getPointBorderColor(point);\n        point.data = _objectSpread$1({}, datum.data, {\n          xFormatted: formatX(datum.data.x),\n          yFormatted: formatY(datum.data.y)\n        });\n        return point;\n      })));\n    }, []);\n  }, [series, getPointColor, getPointBorderColor, formatX, formatY]);\n};\n\nvar useSlices = function useSlices(_ref4) {\n  var enableSlices = _ref4.enableSlices,\n      points = _ref4.points,\n      width = _ref4.width,\n      height = _ref4.height;\n  return useMemo(function () {\n    if (enableSlices === false) return [];\n\n    if (enableSlices === 'x') {\n      var map = new Map();\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!map.has(point.x)) map.set(point.x, [point]);else map.get(point.x).push(point);\n      });\n      return Array.from(map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref5, i, slices) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            x = _ref6[0],\n            slicePoints = _ref6[1];\n\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var x0;\n        if (!prevSlice) x0 = x;else x0 = x - (x - prevSlice[0]) / 2;\n        var sliceWidth;\n        if (!nextSlice) sliceWidth = width - x0;else sliceWidth = x - x0 + (nextSlice[0] - x) / 2;\n        return {\n          id: x,\n          x0: x0,\n          x: x,\n          y0: 0,\n          y: 0,\n          width: sliceWidth,\n          height: height,\n          points: slicePoints.reverse()\n        };\n      });\n    } else if (enableSlices === 'y') {\n      var _map = new Map();\n\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!_map.has(point.y)) _map.set(point.y, [point]);else _map.get(point.y).push(point);\n      });\n      return Array.from(_map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref7, i, slices) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            y = _ref8[0],\n            slicePoints = _ref8[1];\n\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var y0;\n        if (!prevSlice) y0 = y;else y0 = y - (y - prevSlice[0]) / 2;\n        var sliceHeight;\n        if (!nextSlice) sliceHeight = height - y0;else sliceHeight = y - y0 + (nextSlice[0] - y) / 2;\n        return {\n          id: y,\n          x0: 0,\n          x: 0,\n          y0: y0,\n          y: y,\n          width: width,\n          height: sliceHeight,\n          points: slicePoints.reverse()\n        };\n      });\n    }\n  }, [enableSlices, points]);\n};\n\nvar useLine = function useLine(_ref9) {\n  var data = _ref9.data,\n      _ref9$xScale = _ref9.xScale,\n      xScaleSpec = _ref9$xScale === void 0 ? LineDefaultProps.xScale : _ref9$xScale,\n      xFormat = _ref9.xFormat,\n      _ref9$yScale = _ref9.yScale,\n      yScaleSpec = _ref9$yScale === void 0 ? LineDefaultProps.yScale : _ref9$yScale,\n      yFormat = _ref9.yFormat,\n      width = _ref9.width,\n      height = _ref9.height,\n      _ref9$colors = _ref9.colors,\n      colors = _ref9$colors === void 0 ? LineDefaultProps.colors : _ref9$colors,\n      _ref9$curve = _ref9.curve,\n      curve = _ref9$curve === void 0 ? LineDefaultProps.curve : _ref9$curve,\n      _ref9$areaBaselineVal = _ref9.areaBaselineValue,\n      areaBaselineValue = _ref9$areaBaselineVal === void 0 ? LineDefaultProps.areaBaselineValue : _ref9$areaBaselineVal,\n      _ref9$pointColor = _ref9.pointColor,\n      pointColor = _ref9$pointColor === void 0 ? LineDefaultProps.pointColor : _ref9$pointColor,\n      _ref9$pointBorderColo = _ref9.pointBorderColor,\n      pointBorderColor = _ref9$pointBorderColo === void 0 ? LineDefaultProps.pointBorderColor : _ref9$pointBorderColo,\n      _ref9$enableSlices = _ref9.enableSlices,\n      enableSlices = _ref9$enableSlices === void 0 ? LineDefaultProps.enableSlicesTooltip : _ref9$enableSlices;\n  var formatX = useValueFormatter(xFormat);\n  var formatY = useValueFormatter(yFormat);\n  var getColor = useOrdinalColorScale(colors, 'id');\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n\n  var _useMemo = useMemo(function () {\n    return computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height);\n  }, [data, xScaleSpec, yScaleSpec, width, height]),\n      xScale = _useMemo.xScale,\n      yScale = _useMemo.yScale,\n      rawSeries = _useMemo.series;\n\n  var series = useMemo(function () {\n    return rawSeries.map(function (serie) {\n      return _objectSpread$1({}, serie, {\n        color: getColor(serie)\n      });\n    });\n  }, [rawSeries, getColor]);\n  var points = usePoints({\n    series: series,\n    getPointColor: getPointColor,\n    getPointBorderColor: getPointBorderColor,\n    formatX: formatX,\n    formatY: formatY\n  });\n  var slices = useSlices({\n    enableSlices: enableSlices,\n    points: points,\n    width: width,\n    height: height\n  });\n  var lineGenerator = useLineGenerator({\n    curve: curve\n  });\n  var areaGenerator = useAreaGenerator({\n    curve: curve,\n    yScale: yScale,\n    areaBaselineValue: areaBaselineValue\n  });\n  return {\n    lineGenerator: lineGenerator,\n    areaGenerator: areaGenerator,\n    getColor: getColor,\n    series: series,\n    xScale: xScale,\n    yScale: yScale,\n    slices: slices,\n    points: points\n  };\n};\n\nvar Areas = function Areas(_ref) {\n  var areaGenerator = _ref.areaGenerator,\n      areaOpacity = _ref.areaOpacity,\n      areaBlendMode = _ref.areaBlendMode,\n      lines = _ref.lines;\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  if (animate !== true) {\n    return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref2) {\n      var id = _ref2.id,\n          data = _ref2.data,\n          areaColor = _ref2.color;\n      return React.createElement(\"path\", {\n        key: id,\n        d: areaGenerator(data.map(function (d) {\n          return d.position;\n        })),\n        fill: areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    }));\n  }\n\n  return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref3) {\n    var id = _ref3.id,\n        data = _ref3.data,\n        areaColor = _ref3.color;\n    return React.createElement(SmartMotion, {\n      key: id,\n      style: function style(spring) {\n        return {\n          d: spring(areaGenerator(data.map(function (d) {\n            return d.position;\n          })), springConfig),\n          fill: spring(areaColor, springConfig)\n        };\n      }\n    }, function (style) {\n      return React.createElement(\"path\", {\n        key: id,\n        d: style.d,\n        fill: areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    });\n  }));\n};\n\nAreas.propTypes = {\n  areaGenerator: PropTypes.func.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  lines: PropTypes.arrayOf(PropTypes.object).isRequired\n};\nvar Areas$1 = memo(Areas);\n\nvar LinesItem = function LinesItem(_ref) {\n  var lineGenerator = _ref.lineGenerator,\n      id = _ref.id,\n      points = _ref.points,\n      color = _ref.color,\n      thickness = _ref.thickness;\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  if (animate !== true) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: lineGenerator(points),\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: color\n    });\n  }\n\n  return React.createElement(SmartMotion, {\n    key: id,\n    style: function style(spring) {\n      return {\n        d: spring(lineGenerator(points), springConfig),\n        stroke: spring(color, springConfig)\n      };\n    }\n  }, function (style) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: style.d,\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: style.stroke\n    });\n  });\n};\n\nLinesItem.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  points: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    y: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  })),\n  lineGenerator: PropTypes.func.isRequired,\n  color: PropTypes.string.isRequired,\n  thickness: PropTypes.number.isRequired\n};\nvar LinesItem$1 = memo(LinesItem);\n\nvar Lines = function Lines(_ref) {\n  var lines = _ref.lines,\n      lineGenerator = _ref.lineGenerator,\n      lineWidth = _ref.lineWidth;\n  return lines.map(function (_ref2) {\n    var id = _ref2.id,\n        data = _ref2.data,\n        color = _ref2.color;\n    return React.createElement(LinesItem$1, {\n      key: id,\n      id: id,\n      points: data.map(function (d) {\n        return d.position;\n      }),\n      lineGenerator: lineGenerator,\n      color: color,\n      thickness: lineWidth\n    });\n  });\n};\n\nLines.propTypes = {\n  lines: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      data: PropTypes.shape({\n        x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\n        y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)])\n      }).isRequired,\n      position: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      }).isRequired\n    })).isRequired\n  })).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  lineGenerator: PropTypes.func.isRequired\n};\nvar Lines$1 = memo(Lines);\n\nvar SlicesItem = function SlicesItem(_ref) {\n  var slice = _ref.slice,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      tooltip = _ref.tooltip,\n      isCurrent = _ref.isCurrent,\n      setCurrent = _ref.setCurrent;\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseEnter = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n    setCurrent(slice);\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseMove = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n    setCurrent(null);\n  }, [hideTooltip]);\n  return React.createElement(\"rect\", {\n    x: slice.x0,\n    y: slice.y0,\n    width: slice.width,\n    height: slice.height,\n    stroke: \"red\",\n    strokeWidth: debug ? 1 : 0,\n    strokeOpacity: 0.75,\n    fill: \"red\",\n    fillOpacity: isCurrent && debug ? 0.35 : 0,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave\n  });\n};\n\nSlicesItem.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  isCurrent: PropTypes.bool.isRequired,\n  setCurrent: PropTypes.func.isRequired\n};\nvar SlicesItem$1 = memo(SlicesItem);\n\nvar Slices = function Slices(_ref) {\n  var slices = _ref.slices,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      height = _ref.height,\n      tooltip = _ref.tooltip,\n      current = _ref.current,\n      setCurrent = _ref.setCurrent;\n  return slices.map(function (slice) {\n    return React.createElement(SlicesItem$1, {\n      key: slice.id,\n      slice: slice,\n      axis: axis,\n      debug: debug,\n      height: height,\n      tooltip: tooltip,\n      setCurrent: setCurrent,\n      isCurrent: current !== null && current.id === slice.id\n    });\n  });\n};\n\nSlices.propTypes = {\n  slices: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    points: PropTypes.arrayOf(PropTypes.object).isRequired\n  })).isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  current: PropTypes.object,\n  setCurrent: PropTypes.func.isRequired\n};\nvar Slices$1 = memo(Slices);\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar Points = function Points(_ref) {\n  var points = _ref.points,\n      symbol = _ref.symbol,\n      size = _ref.size,\n      borderWidth = _ref.borderWidth,\n      enableLabel = _ref.enableLabel,\n      label = _ref.label,\n      labelYOffset = _ref.labelYOffset;\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  var getLabel = getLabelGenerator(label);\n  var mappedPoints = points.map(function (point) {\n    var mappedPoint = {\n      id: point.id,\n      x: point.x,\n      y: point.y,\n      datum: point.data,\n      fill: point.color,\n      stroke: point.borderColor,\n      label: enableLabel ? getLabel(point.data) : null\n    };\n    return mappedPoint;\n  });\n\n  if (animate !== true) {\n    return React.createElement(\"g\", null, mappedPoints.map(function (point) {\n      return React.createElement(DotsItem, {\n        key: point.id,\n        x: point.x,\n        y: point.y,\n        datum: point.datum,\n        symbol: symbol,\n        size: size,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      });\n    }));\n  }\n\n  return React.createElement(TransitionMotion, {\n    styles: mappedPoints.map(function (point) {\n      return {\n        key: point.id,\n        data: point,\n        style: {\n          x: spring(point.x, springConfig),\n          y: spring(point.y, springConfig),\n          size: spring(size, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          point = _ref2.data;\n      return React.createElement(DotsItem, _extends({\n        key: key\n      }, style, {\n        symbol: symbol,\n        datum: point.datum,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      }));\n    }));\n  });\n};\n\nPoints.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object),\n  symbol: PropTypes.func,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.func.isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelYOffset: PropTypes.number\n};\nPoints.defaultProps = {\n  enableLabel: false,\n  label: 'yFormatted'\n};\nvar Points$1 = memo(Points);\n\nvar Mesh = function Mesh(_ref) {\n  var points = _ref.points,\n      width = _ref.width,\n      height = _ref.height,\n      margin = _ref.margin,\n      setCurrent = _ref.setCurrent,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      debug = _ref.debug;\n\n  var _useTooltip = useTooltip(),\n      showTooltipAt = _useTooltip.showTooltipAt,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseEnter = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseEnter && onMouseEnter(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseEnter, margin]);\n  var handleMouseMove = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseMove && onMouseMove(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseMove]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n    setCurrent(null);\n  }, [hideTooltip, setCurrent]);\n  var handleClick = useCallback(function (point, event) {\n    onClick && onClick(point, event);\n  }, [onClick]);\n  return React.createElement(Mesh$2, {\n    nodes: points,\n    width: width,\n    height: height,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick,\n    debug: debug\n  });\n};\n\nMesh.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  margin: PropTypes.object.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  debug: PropTypes.bool.isRequired\n};\nvar Mesh$1 = memo(Mesh);\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction _slicedToArray$1(arr, i) {\n  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1();\n}\n\nfunction _nonIterableRest$1() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit$1(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$1(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar Line = function Line(props) {\n  var data = props.data,\n      xScaleSpec = props.xScale,\n      xFormat = props.xFormat,\n      yScaleSpec = props.yScale,\n      yFormat = props.yFormat,\n      layers = props.layers,\n      curve = props.curve,\n      areaBaselineValue = props.areaBaselineValue,\n      colors = props.colors,\n      partialMargin = props.margin,\n      width = props.width,\n      height = props.height,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      lineWidth = props.lineWidth,\n      enableArea = props.enableArea,\n      areaOpacity = props.areaOpacity,\n      areaBlendMode = props.areaBlendMode,\n      enablePoints = props.enablePoints,\n      pointSymbol = props.pointSymbol,\n      pointSize = props.pointSize,\n      pointColor = props.pointColor,\n      pointBorderWidth = props.pointBorderWidth,\n      pointBorderColor = props.pointBorderColor,\n      enablePointLabel = props.enablePointLabel,\n      pointLabel = props.pointLabel,\n      pointLabelFormat = props.pointLabelFormat,\n      pointLabelYOffset = props.pointLabelYOffset,\n      markers = props.markers,\n      legends = props.legends,\n      isInteractive = props.isInteractive,\n      useMesh = props.useMesh,\n      debugMesh = props.debugMesh,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      tooltip = props.tooltip,\n      enableSlices = props.enableSlices,\n      debugSlices = props.debugSlices,\n      sliceTooltip = props.sliceTooltip,\n      enableCrosshair = props.enableCrosshair,\n      crosshairType = props.crosshairType;\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor,\n    enableSlices: enableSlices\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      slices = _useLine.slices,\n      points = _useLine.points;\n\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray$1(_useState3, 2),\n      currentSlice = _useState4[0],\n      setCurrentSlice = _useState4[1];\n\n  var legendData = useMemo(function () {\n    return series.map(function (line) {\n      return {\n        id: line.id,\n        label: line.id,\n        color: line.color\n      };\n    }).reverse();\n  }, [series]);\n  var layerById = {\n    grid: React.createElement(Grid, {\n      key: \"grid\",\n      theme: theme,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: enableGridX ? xScale : null,\n      yScale: enableGridY ? yScale : null,\n      xValues: gridXValues,\n      yValues: gridYValues\n    }),\n    markers: React.createElement(CartesianMarkers, {\n      key: \"markers\",\n      markers: markers,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: xScale,\n      yScale: yScale,\n      theme: theme\n    }),\n    axes: React.createElement(Axes, {\n      key: \"axes\",\n      xScale: xScale,\n      yScale: yScale,\n      width: innerWidth,\n      height: innerHeight,\n      theme: theme,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }),\n    areas: null,\n    lines: React.createElement(Lines$1, {\n      key: \"lines\",\n      lines: series,\n      lineGenerator: lineGenerator,\n      lineWidth: lineWidth\n    }),\n    slices: null,\n    points: null,\n    crosshair: null,\n    mesh: null,\n    legends: legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends$1({\n        key: \"legend.\".concat(i)\n      }, legend, {\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        data: legend.data || legendData,\n        theme: theme\n      }));\n    })\n  };\n\n  if (enableArea) {\n    layerById.areas = React.createElement(Areas$1, {\n      key: \"areas\",\n      areaGenerator: areaGenerator,\n      areaOpacity: areaOpacity,\n      areaBlendMode: areaBlendMode,\n      lines: series\n    });\n  }\n\n  if (isInteractive && enableSlices !== false) {\n    layerById.slices = React.createElement(Slices$1, {\n      key: \"slices\",\n      slices: slices,\n      axis: enableSlices,\n      debug: debugSlices,\n      height: innerHeight,\n      tooltip: sliceTooltip,\n      current: currentSlice,\n      setCurrent: setCurrentSlice\n    });\n  }\n\n  if (enablePoints) {\n    layerById.points = React.createElement(Points$1, {\n      key: \"points\",\n      points: points,\n      symbol: pointSymbol,\n      size: pointSize,\n      color: getPointColor,\n      borderWidth: pointBorderWidth,\n      borderColor: getPointBorderColor,\n      enableLabel: enablePointLabel,\n      label: pointLabel,\n      labelFormat: pointLabelFormat,\n      labelYOffset: pointLabelYOffset\n    });\n  }\n\n  if (isInteractive && enableCrosshair) {\n    if (currentPoint !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentPoint.x,\n        y: currentPoint.y,\n        type: crosshairType\n      });\n    }\n\n    if (currentSlice !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentSlice.x,\n        y: currentSlice.y,\n        type: enableSlices\n      });\n    }\n  }\n\n  if (isInteractive && useMesh && enableSlices === false) {\n    layerById.mesh = React.createElement(Mesh$1, {\n      key: \"mesh\",\n      points: points,\n      width: innerWidth,\n      height: innerHeight,\n      margin: margin,\n      current: currentPoint,\n      setCurrent: setCurrentPoint,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      debug: debugMesh\n    });\n  }\n\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin\n  }, layers.map(function (layer, i) {\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, layer(_objectSpread$2({}, props, {\n        innerWidth: innerWidth,\n        innerHeight: innerHeight,\n        series: series,\n        slices: slices,\n        points: points,\n        xScale: xScale,\n        yScale: yScale,\n        lineGenerator: lineGenerator,\n        areaGenerator: areaGenerator\n      })));\n    }\n\n    return layerById[layer];\n  }));\n};\n\nLine.propTypes = LinePropTypes;\nLine.defaultProps = LineDefaultProps;\nvar Line$1 = withContainer(Line);\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nvar ResponsiveLine = function ResponsiveLine(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Line$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$3(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray$2(arr, i) {\n  return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _nonIterableRest$2();\n}\n\nfunction _nonIterableRest$2() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit$2(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$2(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar LineCanvas = function LineCanvas(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      pixelRatio = _ref.pixelRatio,\n      data = _ref.data,\n      xScaleSpec = _ref.xScale,\n      xFormat = _ref.xFormat,\n      yScaleSpec = _ref.yScale,\n      yFormat = _ref.yFormat,\n      curve = _ref.curve,\n      layers = _ref.layers,\n      colors = _ref.colors,\n      lineWidth = _ref.lineWidth,\n      enableArea = _ref.enableArea,\n      areaBaselineValue = _ref.areaBaselineValue,\n      areaOpacity = _ref.areaOpacity,\n      enablePoints = _ref.enablePoints,\n      pointSize = _ref.pointSize,\n      pointColor = _ref.pointColor,\n      pointBorderWidth = _ref.pointBorderWidth,\n      pointBorderColor = _ref.pointBorderColor,\n      enableGridX = _ref.enableGridX,\n      gridXValues = _ref.gridXValues,\n      enableGridY = _ref.enableGridY,\n      gridYValues = _ref.gridYValues,\n      axisTop = _ref.axisTop,\n      axisRight = _ref.axisRight,\n      axisBottom = _ref.axisBottom,\n      axisLeft = _ref.axisLeft,\n      legends = _ref.legends,\n      isInteractive = _ref.isInteractive,\n      debugMesh = _ref.debugMesh,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var canvasEl = useRef(null);\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var theme = useTheme();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$2(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      points = _useLine.points;\n\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: points,\n    width: innerWidth,\n    height: innerHeight,\n    debug: debugMesh\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n\n  useEffect(function () {\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    layers.forEach(function (layer) {\n      if (layer === 'grid' && theme.grid.line.strokeWidth > 0) {\n        ctx.lineWidth = theme.grid.line.strokeWidth;\n        ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      }\n\n      if (layer === 'axes') {\n        renderAxesToCanvas(ctx, {\n          xScale: xScale,\n          yScale: yScale,\n          width: innerWidth,\n          height: innerHeight,\n          top: axisTop,\n          right: axisRight,\n          bottom: axisBottom,\n          left: axisLeft,\n          theme: theme\n        });\n      }\n\n      if (layer === 'areas' && enableArea === true) {\n        ctx.save();\n        ctx.globalAlpha = areaOpacity;\n        areaGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.fillStyle = serie.color;\n          ctx.beginPath();\n          areaGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n\n      if (layer === 'lines') {\n        lineGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.strokeStyle = serie.color;\n          ctx.lineWidth = lineWidth;\n          ctx.beginPath();\n          lineGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.stroke();\n        });\n      }\n\n      if (layer === 'points' && enablePoints === true && pointSize > 0) {\n        points.forEach(function (point) {\n          ctx.fillStyle = point.color;\n          ctx.beginPath();\n          ctx.arc(point.x, point.y, pointSize / 2, 0, 2 * Math.PI);\n          ctx.fill();\n\n          if (pointBorderWidth > 0) {\n            ctx.strokeStyle = point.borderColor;\n            ctx.lineWidth = pointBorderWidth;\n            ctx.stroke();\n          }\n        });\n      }\n\n      if (layer === 'mesh' && debugMesh === true) {\n        renderVoronoiToCanvas(ctx, voronoi);\n\n        if (currentPoint) {\n          renderVoronoiCellToCanvas(ctx, voronoi, currentPoint.index);\n        }\n      }\n\n      if (layer === 'legends') {\n        var legendData = series.map(function (serie) {\n          return {\n            id: serie.id,\n            label: serie.id,\n            color: serie.color\n          };\n        }).reverse();\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$3({}, legend, {\n            data: legend.data || legendData,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n      }\n    });\n  }, [canvasEl, outerWidth, outerHeight, layers, theme, lineGenerator, series, xScale, yScale, enableGridX, gridXValues, enableGridY, gridYValues, axisTop, axisRight, axisBottom, axisLeft, legends, points, enablePoints, pointSize, currentPoint]);\n  var getPointFromMouseEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor2 = _slicedToArray$2(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n\n    if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null;\n    var pointIndex = delaunay.find(x - margin.left, y - margin.top);\n    return points[pointIndex];\n  }, [canvasEl, margin, innerWidth, innerHeight, delaunay]);\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseHover = useCallback(function (event) {\n    var point = getPointFromMouseEvent(event);\n    setCurrentPoint(point);\n\n    if (point) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        point: point\n      }), event);\n    } else {\n      hideTooltip();\n    }\n  }, [getPointFromMouseEvent, setCurrentPoint, showTooltipFromEvent, hideTooltip, tooltip]);\n  var handleMouseLeave = useCallback(function (event) {\n    hideTooltip();\n    setCurrentPoint(null);\n    currentPoint && onMouseLeave && onMouseLeave(currentPoint, event);\n  }, [hideTooltip, setCurrentPoint, onMouseLeave]);\n  var handleClick = useCallback(function (event) {\n    if (onClick) {\n      var point = getPointFromMouseEvent(event);\n      point && onClick(point, event);\n    }\n  }, [getPointFromMouseEvent, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n};\n\nLineCanvas.propTypes = LineCanvasPropTypes;\nLineCanvas.defaultProps = LineCanvasDefaultProps;\nvar LineCanvas$1 = withContainer(LineCanvas);\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nvar ResponsiveLineCanvas = function ResponsiveLineCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(LineCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Line$1 as Line, LineCanvas$1 as LineCanvas, LineCanvasDefaultProps, LineCanvasPropTypes, LineDefaultProps, LinePropTypes, ResponsiveLine, ResponsiveLineCanvas, useAreaGenerator, useLine, useLineGenerator, useSlices };","map":{"version":3,"sources":["/Users/tianjianxu/Documents/GitHub/ReCOVER-COVID-19/frontend/node_modules/@nivo/line/dist/nivo-line.esm.js"],"names":["React","memo","useMemo","useCallback","useState","Fragment","useRef","useEffect","lineCurvePropType","blendModePropType","motionPropTypes","curveFromProp","useValueFormatter","useTheme","useMotionConfig","SmartMotion","getLabelGenerator","DotsItem","withContainer","useDimensions","CartesianMarkers","SvgWrapper","ResponsiveWrapper","getRelativeCursor","isCursorInRect","ordinalColorsPropType","useOrdinalColorScale","useInheritedColor","axisPropType","Grid","Axes","renderGridLinesToCanvas","renderAxesToCanvas","LegendPropShape","BoxLegendSvg","renderLegendToCanvas","BasicTooltip","TableTooltip","crosshairPropTypes","useTooltip","Crosshair","line","area","scalePropType","computeXYScalesForSeries","PropTypes","TransitionMotion","spring","Mesh","Mesh$2","useVoronoiMesh","renderVoronoiToCanvas","renderVoronoiCellToCanvas","LinePointTooltip","_ref","point","createElement","id","data","xFormatted","yFormatted","enableChip","color","serieColor","propTypes","object","isRequired","PointTooltip","Chip","style","display","width","height","background","string","SliceTooltip","_ref2","slice","axis","otherAxis","rows","points","map","key","serieId","concat","oneOf","SliceTooltip$1","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","obj","value","defineProperty","configurable","writable","commonPropTypes","arrayOf","shape","oneOfType","number","x","instanceOf","Date","y","xScale","xFormat","func","yScale","yFormat","layers","curve","axisTop","axisRight","axisBottom","axisLeft","enableGridX","bool","enableGridY","gridXValues","gridYValues","enablePoints","pointSymbol","pointSize","pointColor","any","pointBorderWidth","pointBorderColor","markers","colors","enableArea","areaOpacity","areaBlendMode","areaBaselineValue","lineWidth","defs","legends","isInteractive","debugMesh","tooltip","tooltipFormat","enableSlices","debugSlices","sliceTooltip","enableCrosshair","crosshairType","type","LinePropTypes","enablePointLabel","useMesh","LineCanvasPropTypes","pixelRatio","commonDefaultProps","min","max","from","theme","scheme","LineDefaultProps","animate","motionStiffness","motionDamping","LineCanvasDefaultProps","global","window","devicePixelRatio","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","err","Array","isArray","_objectSpread$1","_defineProperty$1","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","arr2","useLineGenerator","defined","d","useAreaGenerator","y1","y0","usePoints","_ref3","series","getPointColor","getPointBorderColor","formatX","formatY","reduce","acc","serie","datum","position","index","borderColor","useSlices","_ref4","Map","has","set","get","entries","sort","a","b","_ref5","slices","_ref6","slicePoints","prevSlice","nextSlice","x0","sliceWidth","reverse","_map","_ref7","_ref8","sliceHeight","useLine","_ref9","_ref9$xScale","xScaleSpec","_ref9$yScale","yScaleSpec","_ref9$colors","_ref9$curve","_ref9$areaBaselineVal","_ref9$pointColor","_ref9$pointBorderColo","_ref9$enableSlices","enableSlicesTooltip","getColor","_useMemo","rawSeries","lineGenerator","areaGenerator","Areas","lines","_useMotionConfig","springConfig","areaColor","fill","fillOpacity","strokeWidth","mixBlendMode","Areas$1","LinesItem","thickness","stroke","LinesItem$1","Lines","Lines$1","SlicesItem","debug","isCurrent","setCurrent","_useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","event","handleMouseMove","handleMouseLeave","strokeOpacity","onMouseEnter","onMouseMove","onMouseLeave","SlicesItem$1","Slices","current","Slices$1","_extends","assign","hasOwnProperty","apply","Points","symbol","size","borderWidth","enableLabel","label","labelYOffset","getLabel","mappedPoints","mappedPoint","styles","interpolatedStyles","defaultProps","Points$1","margin","onClick","showTooltipAt","left","top","handleClick","nodes","Mesh$1","_objectSpread$2","_defineProperty$2","_extends$1","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","Line","props","partialMargin","pointLabel","pointLabelFormat","pointLabelYOffset","_useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useLine","_useState","_useState2","currentPoint","setCurrentPoint","_useState3","_useState4","currentSlice","setCurrentSlice","legendData","layerById","grid","xValues","yValues","axes","right","bottom","areas","crosshair","mesh","legend","containerWidth","containerHeight","labelFormat","layer","Line$1","_extends$2","ResponsiveLine","_objectSpread$3","_defineProperty$3","_slicedToArray$2","_arrayWithHoles$2","_iterableToArrayLimit$2","_nonIterableRest$2","LineCanvas","canvasEl","_useVoronoiMesh","delaunay","voronoi","ctx","getContext","scale","fillStyle","fillRect","translate","strokeStyle","values","save","globalAlpha","context","beginPath","restore","arc","Math","PI","getPointFromMouseEvent","_getRelativeCursor","_getRelativeCursor2","pointIndex","find","handleMouseHover","ref","cursor","LineCanvas$1","_extends$3","ResponsiveLineCanvas"],"mappings":"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","sourcesContent":["import React, { memo, useMemo, useCallback, useState, Fragment, useRef, useEffect } from 'react';\nimport { lineCurvePropType, blendModePropType, motionPropTypes, curveFromProp, useValueFormatter, useTheme, useMotionConfig, SmartMotion, getLabelGenerator, DotsItem, withContainer, useDimensions, CartesianMarkers, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect } from '@nivo/core';\nimport { ordinalColorsPropType, useOrdinalColorScale, useInheritedColor } from '@nivo/colors';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { BasicTooltip, TableTooltip, crosshairPropTypes, useTooltip, Crosshair } from '@nivo/tooltip';\nimport { line, area } from 'd3-shape';\nimport { scalePropType, computeXYScalesForSeries } from '@nivo/scales';\nimport PropTypes from 'prop-types';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { Mesh as Mesh$2, useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi';\n\nvar LinePointTooltip = function LinePointTooltip(_ref) {\n  var point = _ref.point;\n  return React.createElement(BasicTooltip, {\n    id: React.createElement(\"span\", null, \"x: \", React.createElement(\"strong\", null, point.data.xFormatted), \", y:\", ' ', React.createElement(\"strong\", null, point.data.yFormatted)),\n    enableChip: true,\n    color: point.serieColor\n  });\n};\nLinePointTooltip.propTypes = {\n  point: PropTypes.object.isRequired\n};\nvar PointTooltip = memo(LinePointTooltip);\n\nvar Chip = function Chip(_ref) {\n  var color = _ref.color;\n  return React.createElement(\"span\", {\n    style: {\n      display: 'block',\n      width: '12px',\n      height: '12px',\n      background: color\n    }\n  });\n};\nChip.propTypes = {\n  color: PropTypes.string.isRequired\n};\nvar SliceTooltip = function SliceTooltip(_ref2) {\n  var slice = _ref2.slice,\n      axis = _ref2.axis;\n  var otherAxis = axis === 'x' ? 'y' : 'x';\n  return React.createElement(TableTooltip, {\n    rows: slice.points.map(function (point) {\n      return [React.createElement(Chip, {\n        key: \"chip\",\n        color: point.serieColor\n      }), point.serieId, React.createElement(\"strong\", {\n        key: \"value\"\n      }, point.data[\"\".concat(otherAxis, \"Formatted\")])];\n    })\n  });\n};\nSliceTooltip.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired\n};\nvar SliceTooltip$1 = memo(SliceTooltip);\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar commonPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]),\n      y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n    })).isRequired\n  })).isRequired,\n  xScale: scalePropType.isRequired,\n  xFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  yScale: scalePropType.isRequired,\n  yFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'slices', 'points', 'mesh', 'legends']), PropTypes.func])).isRequired,\n  curve: lineCurvePropType.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  gridXValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  gridYValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  enablePoints: PropTypes.bool.isRequired,\n  pointSymbol: PropTypes.func,\n  pointSize: PropTypes.number.isRequired,\n  pointColor: PropTypes.any.isRequired,\n  pointBorderWidth: PropTypes.number.isRequired,\n  pointBorderColor: PropTypes.any.isRequired,\n  markers: PropTypes.arrayOf(PropTypes.shape({\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    style: PropTypes.object\n  })),\n  colors: ordinalColorsPropType.isRequired,\n  enableArea: PropTypes.bool.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  areaBaselineValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  defs: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired\n  })).isRequired,\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  debugMesh: PropTypes.bool.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  enableSlices: PropTypes.oneOf(['x', 'y', false]).isRequired,\n  debugSlices: PropTypes.bool.isRequired,\n  sliceTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  enableCrosshair: PropTypes.bool.isRequired,\n  crosshairType: crosshairPropTypes.type.isRequired\n};\nvar LinePropTypes = _objectSpread({}, commonPropTypes, {\n  enablePointLabel: PropTypes.bool.isRequired,\n  useMesh: PropTypes.bool.isRequired\n}, motionPropTypes);\nvar LineCanvasPropTypes = _objectSpread({\n  pixelRatio: PropTypes.number.isRequired\n}, commonPropTypes);\nvar commonDefaultProps = {\n  curve: 'linear',\n  xScale: {\n    type: 'point'\n  },\n  yScale: {\n    type: 'linear',\n    min: 0,\n    max: 'auto'\n  },\n  layers: ['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'points', 'slices', 'mesh', 'legends'],\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: true,\n  enableGridY: true,\n  enablePoints: true,\n  pointSize: 6,\n  pointColor: {\n    from: 'color'\n  },\n  pointBorderWidth: 0,\n  pointBorderColor: {\n    theme: 'background'\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  enableArea: false,\n  areaBaselineValue: 0,\n  areaOpacity: 0.2,\n  areaBlendMode: 'normal',\n  lineWidth: 2,\n  defs: [],\n  legends: [],\n  isInteractive: true,\n  tooltip: PointTooltip,\n  enableSlices: false,\n  debugSlices: false,\n  sliceTooltip: SliceTooltip$1,\n  debugMesh: false,\n  enableCrosshair: true,\n  crosshairType: 'bottom-left'\n};\nvar LineDefaultProps = _objectSpread({}, commonDefaultProps, {\n  enablePointLabel: false,\n  useMesh: false,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 15\n});\nvar LineCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nvar useLineGenerator = function useLineGenerator(_ref) {\n  var curve = _ref.curve;\n  return useMemo(function () {\n    return line().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve));\n  }, [curve]);\n};\nvar useAreaGenerator = function useAreaGenerator(_ref2) {\n  var curve = _ref2.curve,\n      yScale = _ref2.yScale,\n      areaBaselineValue = _ref2.areaBaselineValue;\n  return useMemo(function () {\n    return area().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y1(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve)).y0(yScale(areaBaselineValue));\n  }, [curve, yScale, areaBaselineValue]);\n};\nvar usePoints = function usePoints(_ref3) {\n  var series = _ref3.series,\n      getPointColor = _ref3.getPointColor,\n      getPointBorderColor = _ref3.getPointBorderColor,\n      formatX = _ref3.formatX,\n      formatY = _ref3.formatY;\n  return useMemo(function () {\n    return series.reduce(function (acc, serie) {\n      return [].concat(_toConsumableArray(acc), _toConsumableArray(serie.data.filter(function (datum) {\n        return datum.position.x !== null && datum.position.y !== null;\n      }).map(function (datum, i) {\n        var point = {\n          id: \"\".concat(serie.id, \".\").concat(i),\n          index: acc.length + i,\n          serieId: serie.id,\n          serieColor: serie.color,\n          x: datum.position.x,\n          y: datum.position.y\n        };\n        point.color = getPointColor(serie);\n        point.borderColor = getPointBorderColor(point);\n        point.data = _objectSpread$1({}, datum.data, {\n          xFormatted: formatX(datum.data.x),\n          yFormatted: formatY(datum.data.y)\n        });\n        return point;\n      })));\n    }, []);\n  }, [series, getPointColor, getPointBorderColor, formatX, formatY]);\n};\nvar useSlices = function useSlices(_ref4) {\n  var enableSlices = _ref4.enableSlices,\n      points = _ref4.points,\n      width = _ref4.width,\n      height = _ref4.height;\n  return useMemo(function () {\n    if (enableSlices === false) return [];\n    if (enableSlices === 'x') {\n      var map = new Map();\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!map.has(point.x)) map.set(point.x, [point]);else map.get(point.x).push(point);\n      });\n      return Array.from(map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref5, i, slices) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            x = _ref6[0],\n            slicePoints = _ref6[1];\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var x0;\n        if (!prevSlice) x0 = x;else x0 = x - (x - prevSlice[0]) / 2;\n        var sliceWidth;\n        if (!nextSlice) sliceWidth = width - x0;else sliceWidth = x - x0 + (nextSlice[0] - x) / 2;\n        return {\n          id: x,\n          x0: x0,\n          x: x,\n          y0: 0,\n          y: 0,\n          width: sliceWidth,\n          height: height,\n          points: slicePoints.reverse()\n        };\n      });\n    } else if (enableSlices === 'y') {\n      var _map = new Map();\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!_map.has(point.y)) _map.set(point.y, [point]);else _map.get(point.y).push(point);\n      });\n      return Array.from(_map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref7, i, slices) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            y = _ref8[0],\n            slicePoints = _ref8[1];\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var y0;\n        if (!prevSlice) y0 = y;else y0 = y - (y - prevSlice[0]) / 2;\n        var sliceHeight;\n        if (!nextSlice) sliceHeight = height - y0;else sliceHeight = y - y0 + (nextSlice[0] - y) / 2;\n        return {\n          id: y,\n          x0: 0,\n          x: 0,\n          y0: y0,\n          y: y,\n          width: width,\n          height: sliceHeight,\n          points: slicePoints.reverse()\n        };\n      });\n    }\n  }, [enableSlices, points]);\n};\nvar useLine = function useLine(_ref9) {\n  var data = _ref9.data,\n      _ref9$xScale = _ref9.xScale,\n      xScaleSpec = _ref9$xScale === void 0 ? LineDefaultProps.xScale : _ref9$xScale,\n      xFormat = _ref9.xFormat,\n      _ref9$yScale = _ref9.yScale,\n      yScaleSpec = _ref9$yScale === void 0 ? LineDefaultProps.yScale : _ref9$yScale,\n      yFormat = _ref9.yFormat,\n      width = _ref9.width,\n      height = _ref9.height,\n      _ref9$colors = _ref9.colors,\n      colors = _ref9$colors === void 0 ? LineDefaultProps.colors : _ref9$colors,\n      _ref9$curve = _ref9.curve,\n      curve = _ref9$curve === void 0 ? LineDefaultProps.curve : _ref9$curve,\n      _ref9$areaBaselineVal = _ref9.areaBaselineValue,\n      areaBaselineValue = _ref9$areaBaselineVal === void 0 ? LineDefaultProps.areaBaselineValue : _ref9$areaBaselineVal,\n      _ref9$pointColor = _ref9.pointColor,\n      pointColor = _ref9$pointColor === void 0 ? LineDefaultProps.pointColor : _ref9$pointColor,\n      _ref9$pointBorderColo = _ref9.pointBorderColor,\n      pointBorderColor = _ref9$pointBorderColo === void 0 ? LineDefaultProps.pointBorderColor : _ref9$pointBorderColo,\n      _ref9$enableSlices = _ref9.enableSlices,\n      enableSlices = _ref9$enableSlices === void 0 ? LineDefaultProps.enableSlicesTooltip : _ref9$enableSlices;\n  var formatX = useValueFormatter(xFormat);\n  var formatY = useValueFormatter(yFormat);\n  var getColor = useOrdinalColorScale(colors, 'id');\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n  var _useMemo = useMemo(function () {\n    return computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height);\n  }, [data, xScaleSpec, yScaleSpec, width, height]),\n      xScale = _useMemo.xScale,\n      yScale = _useMemo.yScale,\n      rawSeries = _useMemo.series;\n  var series = useMemo(function () {\n    return rawSeries.map(function (serie) {\n      return _objectSpread$1({}, serie, {\n        color: getColor(serie)\n      });\n    });\n  }, [rawSeries, getColor]);\n  var points = usePoints({\n    series: series,\n    getPointColor: getPointColor,\n    getPointBorderColor: getPointBorderColor,\n    formatX: formatX,\n    formatY: formatY\n  });\n  var slices = useSlices({\n    enableSlices: enableSlices,\n    points: points,\n    width: width,\n    height: height\n  });\n  var lineGenerator = useLineGenerator({\n    curve: curve\n  });\n  var areaGenerator = useAreaGenerator({\n    curve: curve,\n    yScale: yScale,\n    areaBaselineValue: areaBaselineValue\n  });\n  return {\n    lineGenerator: lineGenerator,\n    areaGenerator: areaGenerator,\n    getColor: getColor,\n    series: series,\n    xScale: xScale,\n    yScale: yScale,\n    slices: slices,\n    points: points\n  };\n};\n\nvar Areas = function Areas(_ref) {\n  var areaGenerator = _ref.areaGenerator,\n      areaOpacity = _ref.areaOpacity,\n      areaBlendMode = _ref.areaBlendMode,\n      lines = _ref.lines;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref2) {\n      var id = _ref2.id,\n          data = _ref2.data,\n          areaColor = _ref2.color;\n      return React.createElement(\"path\", {\n        key: id,\n        d: areaGenerator(data.map(function (d) {\n          return d.position;\n        })),\n        fill: areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    }));\n  }\n  return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref3) {\n    var id = _ref3.id,\n        data = _ref3.data,\n        areaColor = _ref3.color;\n    return React.createElement(SmartMotion, {\n      key: id,\n      style: function style(spring) {\n        return {\n          d: spring(areaGenerator(data.map(function (d) {\n            return d.position;\n          })), springConfig),\n          fill: spring(areaColor, springConfig)\n        };\n      }\n    }, function (style) {\n      return React.createElement(\"path\", {\n        key: id,\n        d: style.d,\n        fill: areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    });\n  }));\n};\nAreas.propTypes = {\n  areaGenerator: PropTypes.func.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  lines: PropTypes.arrayOf(PropTypes.object).isRequired\n};\nvar Areas$1 = memo(Areas);\n\nvar LinesItem = function LinesItem(_ref) {\n  var lineGenerator = _ref.lineGenerator,\n      id = _ref.id,\n      points = _ref.points,\n      color = _ref.color,\n      thickness = _ref.thickness;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: lineGenerator(points),\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: color\n    });\n  }\n  return React.createElement(SmartMotion, {\n    key: id,\n    style: function style(spring) {\n      return {\n        d: spring(lineGenerator(points), springConfig),\n        stroke: spring(color, springConfig)\n      };\n    }\n  }, function (style) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: style.d,\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: style.stroke\n    });\n  });\n};\nLinesItem.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  points: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    y: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  })),\n  lineGenerator: PropTypes.func.isRequired,\n  color: PropTypes.string.isRequired,\n  thickness: PropTypes.number.isRequired\n};\nvar LinesItem$1 = memo(LinesItem);\n\nvar Lines = function Lines(_ref) {\n  var lines = _ref.lines,\n      lineGenerator = _ref.lineGenerator,\n      lineWidth = _ref.lineWidth;\n  return lines.map(function (_ref2) {\n    var id = _ref2.id,\n        data = _ref2.data,\n        color = _ref2.color;\n    return React.createElement(LinesItem$1, {\n      key: id,\n      id: id,\n      points: data.map(function (d) {\n        return d.position;\n      }),\n      lineGenerator: lineGenerator,\n      color: color,\n      thickness: lineWidth\n    });\n  });\n};\nLines.propTypes = {\n  lines: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      data: PropTypes.shape({\n        x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\n        y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)])\n      }).isRequired,\n      position: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      }).isRequired\n    })).isRequired\n  })).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  lineGenerator: PropTypes.func.isRequired\n};\nvar Lines$1 = memo(Lines);\n\nvar SlicesItem = function SlicesItem(_ref) {\n  var slice = _ref.slice,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      tooltip = _ref.tooltip,\n      isCurrent = _ref.isCurrent,\n      setCurrent = _ref.setCurrent;\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n    setCurrent(slice);\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseMove = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n    setCurrent(null);\n  }, [hideTooltip]);\n  return React.createElement(\"rect\", {\n    x: slice.x0,\n    y: slice.y0,\n    width: slice.width,\n    height: slice.height,\n    stroke: \"red\",\n    strokeWidth: debug ? 1 : 0,\n    strokeOpacity: 0.75,\n    fill: \"red\",\n    fillOpacity: isCurrent && debug ? 0.35 : 0,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave\n  });\n};\nSlicesItem.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  isCurrent: PropTypes.bool.isRequired,\n  setCurrent: PropTypes.func.isRequired\n};\nvar SlicesItem$1 = memo(SlicesItem);\n\nvar Slices = function Slices(_ref) {\n  var slices = _ref.slices,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      height = _ref.height,\n      tooltip = _ref.tooltip,\n      current = _ref.current,\n      setCurrent = _ref.setCurrent;\n  return slices.map(function (slice) {\n    return React.createElement(SlicesItem$1, {\n      key: slice.id,\n      slice: slice,\n      axis: axis,\n      debug: debug,\n      height: height,\n      tooltip: tooltip,\n      setCurrent: setCurrent,\n      isCurrent: current !== null && current.id === slice.id\n    });\n  });\n};\nSlices.propTypes = {\n  slices: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    points: PropTypes.arrayOf(PropTypes.object).isRequired\n  })).isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  current: PropTypes.object,\n  setCurrent: PropTypes.func.isRequired\n};\nvar Slices$1 = memo(Slices);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar Points = function Points(_ref) {\n  var points = _ref.points,\n      symbol = _ref.symbol,\n      size = _ref.size,\n      borderWidth = _ref.borderWidth,\n      enableLabel = _ref.enableLabel,\n      label = _ref.label,\n      labelYOffset = _ref.labelYOffset;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var getLabel = getLabelGenerator(label);\n  var mappedPoints = points.map(function (point) {\n    var mappedPoint = {\n      id: point.id,\n      x: point.x,\n      y: point.y,\n      datum: point.data,\n      fill: point.color,\n      stroke: point.borderColor,\n      label: enableLabel ? getLabel(point.data) : null\n    };\n    return mappedPoint;\n  });\n  if (animate !== true) {\n    return React.createElement(\"g\", null, mappedPoints.map(function (point) {\n      return React.createElement(DotsItem, {\n        key: point.id,\n        x: point.x,\n        y: point.y,\n        datum: point.datum,\n        symbol: symbol,\n        size: size,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      });\n    }));\n  }\n  return React.createElement(TransitionMotion, {\n    styles: mappedPoints.map(function (point) {\n      return {\n        key: point.id,\n        data: point,\n        style: {\n          x: spring(point.x, springConfig),\n          y: spring(point.y, springConfig),\n          size: spring(size, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          point = _ref2.data;\n      return React.createElement(DotsItem, _extends({\n        key: key\n      }, style, {\n        symbol: symbol,\n        datum: point.datum,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      }));\n    }));\n  });\n};\nPoints.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object),\n  symbol: PropTypes.func,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.func.isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelYOffset: PropTypes.number\n};\nPoints.defaultProps = {\n  enableLabel: false,\n  label: 'yFormatted'\n};\nvar Points$1 = memo(Points);\n\nvar Mesh = function Mesh(_ref) {\n  var points = _ref.points,\n      width = _ref.width,\n      height = _ref.height,\n      margin = _ref.margin,\n      setCurrent = _ref.setCurrent,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      debug = _ref.debug;\n  var _useTooltip = useTooltip(),\n      showTooltipAt = _useTooltip.showTooltipAt,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseEnter && onMouseEnter(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseEnter, margin]);\n  var handleMouseMove = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseMove && onMouseMove(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseMove]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n    setCurrent(null);\n  }, [hideTooltip, setCurrent]);\n  var handleClick = useCallback(function (point, event) {\n    onClick && onClick(point, event);\n  }, [onClick]);\n  return React.createElement(Mesh$2, {\n    nodes: points,\n    width: width,\n    height: height,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick,\n    debug: debug\n  });\n};\nMesh.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  margin: PropTypes.object.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  debug: PropTypes.bool.isRequired\n};\nvar Mesh$1 = memo(Mesh);\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1(); }\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$1(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\nvar Line = function Line(props) {\n  var data = props.data,\n      xScaleSpec = props.xScale,\n      xFormat = props.xFormat,\n      yScaleSpec = props.yScale,\n      yFormat = props.yFormat,\n      layers = props.layers,\n      curve = props.curve,\n      areaBaselineValue = props.areaBaselineValue,\n      colors = props.colors,\n      partialMargin = props.margin,\n      width = props.width,\n      height = props.height,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      lineWidth = props.lineWidth,\n      enableArea = props.enableArea,\n      areaOpacity = props.areaOpacity,\n      areaBlendMode = props.areaBlendMode,\n      enablePoints = props.enablePoints,\n      pointSymbol = props.pointSymbol,\n      pointSize = props.pointSize,\n      pointColor = props.pointColor,\n      pointBorderWidth = props.pointBorderWidth,\n      pointBorderColor = props.pointBorderColor,\n      enablePointLabel = props.enablePointLabel,\n      pointLabel = props.pointLabel,\n      pointLabelFormat = props.pointLabelFormat,\n      pointLabelYOffset = props.pointLabelYOffset,\n      markers = props.markers,\n      legends = props.legends,\n      isInteractive = props.isInteractive,\n      useMesh = props.useMesh,\n      debugMesh = props.debugMesh,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      tooltip = props.tooltip,\n      enableSlices = props.enableSlices,\n      debugSlices = props.debugSlices,\n      sliceTooltip = props.sliceTooltip,\n      enableCrosshair = props.enableCrosshair,\n      crosshairType = props.crosshairType;\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor,\n    enableSlices: enableSlices\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      slices = _useLine.slices,\n      points = _useLine.points;\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray$1(_useState3, 2),\n      currentSlice = _useState4[0],\n      setCurrentSlice = _useState4[1];\n  var legendData = useMemo(function () {\n    return series.map(function (line) {\n      return {\n        id: line.id,\n        label: line.id,\n        color: line.color\n      };\n    }).reverse();\n  }, [series]);\n  var layerById = {\n    grid: React.createElement(Grid, {\n      key: \"grid\",\n      theme: theme,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: enableGridX ? xScale : null,\n      yScale: enableGridY ? yScale : null,\n      xValues: gridXValues,\n      yValues: gridYValues\n    }),\n    markers: React.createElement(CartesianMarkers, {\n      key: \"markers\",\n      markers: markers,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: xScale,\n      yScale: yScale,\n      theme: theme\n    }),\n    axes: React.createElement(Axes, {\n      key: \"axes\",\n      xScale: xScale,\n      yScale: yScale,\n      width: innerWidth,\n      height: innerHeight,\n      theme: theme,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }),\n    areas: null,\n    lines: React.createElement(Lines$1, {\n      key: \"lines\",\n      lines: series,\n      lineGenerator: lineGenerator,\n      lineWidth: lineWidth\n    }),\n    slices: null,\n    points: null,\n    crosshair: null,\n    mesh: null,\n    legends: legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends$1({\n        key: \"legend.\".concat(i)\n      }, legend, {\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        data: legend.data || legendData,\n        theme: theme\n      }));\n    })\n  };\n  if (enableArea) {\n    layerById.areas = React.createElement(Areas$1, {\n      key: \"areas\",\n      areaGenerator: areaGenerator,\n      areaOpacity: areaOpacity,\n      areaBlendMode: areaBlendMode,\n      lines: series\n    });\n  }\n  if (isInteractive && enableSlices !== false) {\n    layerById.slices = React.createElement(Slices$1, {\n      key: \"slices\",\n      slices: slices,\n      axis: enableSlices,\n      debug: debugSlices,\n      height: innerHeight,\n      tooltip: sliceTooltip,\n      current: currentSlice,\n      setCurrent: setCurrentSlice\n    });\n  }\n  if (enablePoints) {\n    layerById.points = React.createElement(Points$1, {\n      key: \"points\",\n      points: points,\n      symbol: pointSymbol,\n      size: pointSize,\n      color: getPointColor,\n      borderWidth: pointBorderWidth,\n      borderColor: getPointBorderColor,\n      enableLabel: enablePointLabel,\n      label: pointLabel,\n      labelFormat: pointLabelFormat,\n      labelYOffset: pointLabelYOffset\n    });\n  }\n  if (isInteractive && enableCrosshair) {\n    if (currentPoint !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentPoint.x,\n        y: currentPoint.y,\n        type: crosshairType\n      });\n    }\n    if (currentSlice !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentSlice.x,\n        y: currentSlice.y,\n        type: enableSlices\n      });\n    }\n  }\n  if (isInteractive && useMesh && enableSlices === false) {\n    layerById.mesh = React.createElement(Mesh$1, {\n      key: \"mesh\",\n      points: points,\n      width: innerWidth,\n      height: innerHeight,\n      margin: margin,\n      current: currentPoint,\n      setCurrent: setCurrentPoint,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      debug: debugMesh\n    });\n  }\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin\n  }, layers.map(function (layer, i) {\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, layer(_objectSpread$2({}, props, {\n        innerWidth: innerWidth,\n        innerHeight: innerHeight,\n        series: series,\n        slices: slices,\n        points: points,\n        xScale: xScale,\n        yScale: yScale,\n        lineGenerator: lineGenerator,\n        areaGenerator: areaGenerator\n      })));\n    }\n    return layerById[layer];\n  }));\n};\nLine.propTypes = LinePropTypes;\nLine.defaultProps = LineDefaultProps;\nvar Line$1 = withContainer(Line);\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveLine = function ResponsiveLine(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Line$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray$2(arr, i) { return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _nonIterableRest$2(); }\nfunction _nonIterableRest$2() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$2(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$2(arr) { if (Array.isArray(arr)) return arr; }\nvar LineCanvas = function LineCanvas(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      pixelRatio = _ref.pixelRatio,\n      data = _ref.data,\n      xScaleSpec = _ref.xScale,\n      xFormat = _ref.xFormat,\n      yScaleSpec = _ref.yScale,\n      yFormat = _ref.yFormat,\n      curve = _ref.curve,\n      layers = _ref.layers,\n      colors = _ref.colors,\n      lineWidth = _ref.lineWidth,\n      enableArea = _ref.enableArea,\n      areaBaselineValue = _ref.areaBaselineValue,\n      areaOpacity = _ref.areaOpacity,\n      enablePoints = _ref.enablePoints,\n      pointSize = _ref.pointSize,\n      pointColor = _ref.pointColor,\n      pointBorderWidth = _ref.pointBorderWidth,\n      pointBorderColor = _ref.pointBorderColor,\n      enableGridX = _ref.enableGridX,\n      gridXValues = _ref.gridXValues,\n      enableGridY = _ref.enableGridY,\n      gridYValues = _ref.gridYValues,\n      axisTop = _ref.axisTop,\n      axisRight = _ref.axisRight,\n      axisBottom = _ref.axisBottom,\n      axisLeft = _ref.axisLeft,\n      legends = _ref.legends,\n      isInteractive = _ref.isInteractive,\n      debugMesh = _ref.debugMesh,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var canvasEl = useRef(null);\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var theme = useTheme();\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$2(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      points = _useLine.points;\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: points,\n    width: innerWidth,\n    height: innerHeight,\n    debug: debugMesh\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n  useEffect(function () {\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    layers.forEach(function (layer) {\n      if (layer === 'grid' && theme.grid.line.strokeWidth > 0) {\n        ctx.lineWidth = theme.grid.line.strokeWidth;\n        ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      }\n      if (layer === 'axes') {\n        renderAxesToCanvas(ctx, {\n          xScale: xScale,\n          yScale: yScale,\n          width: innerWidth,\n          height: innerHeight,\n          top: axisTop,\n          right: axisRight,\n          bottom: axisBottom,\n          left: axisLeft,\n          theme: theme\n        });\n      }\n      if (layer === 'areas' && enableArea === true) {\n        ctx.save();\n        ctx.globalAlpha = areaOpacity;\n        areaGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.fillStyle = serie.color;\n          ctx.beginPath();\n          areaGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n      if (layer === 'lines') {\n        lineGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.strokeStyle = serie.color;\n          ctx.lineWidth = lineWidth;\n          ctx.beginPath();\n          lineGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.stroke();\n        });\n      }\n      if (layer === 'points' && enablePoints === true && pointSize > 0) {\n        points.forEach(function (point) {\n          ctx.fillStyle = point.color;\n          ctx.beginPath();\n          ctx.arc(point.x, point.y, pointSize / 2, 0, 2 * Math.PI);\n          ctx.fill();\n          if (pointBorderWidth > 0) {\n            ctx.strokeStyle = point.borderColor;\n            ctx.lineWidth = pointBorderWidth;\n            ctx.stroke();\n          }\n        });\n      }\n      if (layer === 'mesh' && debugMesh === true) {\n        renderVoronoiToCanvas(ctx, voronoi);\n        if (currentPoint) {\n          renderVoronoiCellToCanvas(ctx, voronoi, currentPoint.index);\n        }\n      }\n      if (layer === 'legends') {\n        var legendData = series.map(function (serie) {\n          return {\n            id: serie.id,\n            label: serie.id,\n            color: serie.color\n          };\n        }).reverse();\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$3({}, legend, {\n            data: legend.data || legendData,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n      }\n    });\n  }, [canvasEl, outerWidth, outerHeight, layers, theme, lineGenerator, series, xScale, yScale, enableGridX, gridXValues, enableGridY, gridYValues, axisTop, axisRight, axisBottom, axisLeft, legends, points, enablePoints, pointSize, currentPoint]);\n  var getPointFromMouseEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor2 = _slicedToArray$2(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n    if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null;\n    var pointIndex = delaunay.find(x - margin.left, y - margin.top);\n    return points[pointIndex];\n  }, [canvasEl, margin, innerWidth, innerHeight, delaunay]);\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseHover = useCallback(function (event) {\n    var point = getPointFromMouseEvent(event);\n    setCurrentPoint(point);\n    if (point) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        point: point\n      }), event);\n    } else {\n      hideTooltip();\n    }\n  }, [getPointFromMouseEvent, setCurrentPoint, showTooltipFromEvent, hideTooltip, tooltip]);\n  var handleMouseLeave = useCallback(function (event) {\n    hideTooltip();\n    setCurrentPoint(null);\n    currentPoint && onMouseLeave && onMouseLeave(currentPoint, event);\n  }, [hideTooltip, setCurrentPoint, onMouseLeave]);\n  var handleClick = useCallback(function (event) {\n    if (onClick) {\n      var point = getPointFromMouseEvent(event);\n      point && onClick(point, event);\n    }\n  }, [getPointFromMouseEvent, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n};\nLineCanvas.propTypes = LineCanvasPropTypes;\nLineCanvas.defaultProps = LineCanvasDefaultProps;\nvar LineCanvas$1 = withContainer(LineCanvas);\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar ResponsiveLineCanvas = function ResponsiveLineCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(LineCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Line$1 as Line, LineCanvas$1 as LineCanvas, LineCanvasDefaultProps, LineCanvasPropTypes, LineDefaultProps, LinePropTypes, ResponsiveLine, ResponsiveLineCanvas, useAreaGenerator, useLine, useLineGenerator, useSlices };\n"]},"metadata":{},"sourceType":"module"}