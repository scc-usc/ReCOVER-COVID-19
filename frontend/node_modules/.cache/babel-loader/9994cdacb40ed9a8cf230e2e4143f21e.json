{"ast":null,"code":"import React, { memo, useState, useMemo, createContext, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Measure from 'react-measure';\nimport { Motion, spring } from 'react-motion';\nimport { useTheme, useMotionConfig, useValueFormatter } from '@nivo/core';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar TOOLTIP_OFFSET = 14;\nvar tooltipStyle = {\n  pointerEvents: 'none',\n  position: 'absolute',\n  zIndex: 10,\n  top: 0,\n  left: 0\n};\nvar TooltipWrapper = memo(function (_ref) {\n  var position = _ref.position,\n      anchor = _ref.anchor,\n      children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      dimensions = _useState2[0],\n      setDimensions = _useState2[1];\n\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  var x = Math.round(position[0]);\n  var y = Math.round(position[1]);\n\n  if (dimensions !== null) {\n    if (anchor === 'top') {\n      x -= dimensions[0] / 2;\n      y -= dimensions[1] + TOOLTIP_OFFSET;\n    } else if (anchor === 'right') {\n      x += TOOLTIP_OFFSET;\n      y -= dimensions[1] / 2;\n    } else if (anchor === 'bottom') {\n      x -= dimensions[0] / 2;\n      y += TOOLTIP_OFFSET;\n    } else if (anchor === 'left') {\n      x -= dimensions[0] + TOOLTIP_OFFSET;\n      y -= dimensions[1] / 2;\n    } else if (anchor === 'center') {\n      x -= dimensions[0] / 2;\n      y -= dimensions[1] / 2;\n    }\n  }\n\n  var style = useMemo(function () {\n    return _objectSpread({}, tooltipStyle, theme.tooltip, {\n      transform: \"translate(\".concat(x, \"px, \").concat(y, \"px)\"),\n      opacity: dimensions === null ? 0 : 1\n    });\n  }, [x, y, dimensions, theme.tooltip]);\n\n  if (animate !== true || dimensions === null) {\n    return React.createElement(Measure, {\n      client: false,\n      offset: false,\n      bounds: true,\n      margin: false,\n      onResize: function onResize(_ref2) {\n        var bounds = _ref2.bounds;\n        setDimensions([bounds.width, bounds.height]);\n      }\n    }, function (_ref3) {\n      var measureRef = _ref3.measureRef;\n      return React.createElement(\"div\", {\n        ref: measureRef,\n        style: style\n      }, children);\n    });\n  }\n\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig)\n    }\n  }, function (animatedPosition) {\n    return React.createElement(Measure, {\n      client: false,\n      offset: false,\n      bounds: true,\n      margin: false,\n      onResize: function onResize(_ref4) {\n        var bounds = _ref4.bounds;\n        setDimensions([bounds.width, bounds.height]);\n      }\n    }, function (_ref5) {\n      var measureRef = _ref5.measureRef;\n      return React.createElement(\"div\", {\n        ref: measureRef,\n        style: _objectSpread({}, tooltipStyle, theme.tooltip, {\n          transform: \"translate3d(\".concat(animatedPosition.x, \"px, \").concat(animatedPosition.y, \"px, 0)\")\n        })\n      }, children);\n    });\n  });\n});\nTooltipWrapper.displayName = 'TooltipWrapper';\nTooltipWrapper.propTypes = {\n  position: PropTypes.array.isRequired,\n  anchor: PropTypes.oneOf(['top', 'right', 'bottom', 'left', 'center']).isRequired,\n  children: PropTypes.node.isRequired\n};\nTooltipWrapper.defaultProps = {\n  anchor: 'top'\n};\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Chip = memo(function (_ref) {\n  var size = _ref.size,\n      color = _ref.color,\n      style = _ref.style;\n  return React.createElement(\"span\", {\n    style: _objectSpread$1({\n      display: 'block',\n      width: size,\n      height: size,\n      background: color\n    }, style)\n  });\n});\nChip.propTypes = {\n  size: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  style: PropTypes.object.isRequired\n};\nChip.defaultProps = {\n  size: 12,\n  style: {}\n};\nChip.displayName = 'Chip';\nvar BasicTooltip = memo(function (_ref) {\n  var id = _ref.id,\n      _value = _ref.value,\n      format = _ref.format,\n      enableChip = _ref.enableChip,\n      color = _ref.color,\n      renderContent = _ref.renderContent;\n  var theme = useTheme();\n  var formatValue = useValueFormatter(format);\n  var content;\n\n  if (typeof renderContent === 'function') {\n    content = renderContent();\n  } else {\n    var value = _value;\n\n    if (formatValue !== undefined && value !== undefined) {\n      value = formatValue(value);\n    }\n\n    content = React.createElement(\"div\", {\n      style: theme.tooltip.basic\n    }, enableChip && React.createElement(Chip, {\n      color: color,\n      style: theme.tooltip.chip\n    }), value !== undefined ? React.createElement(\"span\", null, id, \": \", React.createElement(\"strong\", null, isNaN(value) ? String(value) : value)) : id);\n  }\n\n  return React.createElement(\"div\", {\n    style: theme.tooltip.container\n  }, content);\n});\nBasicTooltip.displayName = 'BasicTooltip';\nBasicTooltip.propTypes = {\n  id: PropTypes.node.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  enableChip: PropTypes.bool.isRequired,\n  color: PropTypes.string,\n  format: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  renderContent: PropTypes.func\n};\nBasicTooltip.defaultProps = {\n  enableChip: false\n};\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar tableStyle = {\n  width: '100%',\n  borderCollapse: 'collapse'\n};\nvar TableTooltip = memo(function (_ref) {\n  var title = _ref.title,\n      rows = _ref.rows,\n      renderContent = _ref.renderContent;\n  var theme = useTheme();\n  if (!rows.length) return null;\n  var content;\n\n  if (typeof renderContent === 'function') {\n    content = renderContent();\n  } else {\n    content = React.createElement(\"div\", null, title && title, React.createElement(\"table\", {\n      style: _objectSpread$2({}, tableStyle, theme.tooltip.table)\n    }, React.createElement(\"tbody\", null, rows.map(function (row, i) {\n      return React.createElement(\"tr\", {\n        key: i\n      }, row.map(function (column, j) {\n        return React.createElement(\"td\", {\n          key: j,\n          style: theme.tooltip.tableCell\n        }, column);\n      }));\n    }))));\n  }\n\n  return React.createElement(\"div\", {\n    style: theme.tooltip.container\n  }, content);\n});\nTableTooltip.propTypes = {\n  title: PropTypes.node,\n  rows: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.node)).isRequired,\n  renderContent: PropTypes.func\n};\nTableTooltip.displayName = 'TableTooltip';\nvar crosshairTypes = ['x', 'y', 'top-left', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'cross'];\nvar crosshairPropTypes = {\n  type: PropTypes.oneOf(crosshairTypes)\n};\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$3(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar CrosshairLine = memo(function (_ref) {\n  var x0 = _ref.x0,\n      x1 = _ref.x1,\n      y0 = _ref.y0,\n      y1 = _ref.y1;\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  var style = useMemo(function () {\n    return _objectSpread$3({}, theme.crosshair.line, {\n      pointerEvents: 'none'\n    });\n  }, [theme.crosshair.line]);\n\n  if (animate !== true) {\n    return React.createElement(\"line\", {\n      x1: x0,\n      x2: x1,\n      y1: y0,\n      y2: y1,\n      fill: \"none\",\n      style: style\n    });\n  }\n\n  return React.createElement(Motion, {\n    style: {\n      x0: spring(x0, springConfig),\n      x1: spring(x1, springConfig),\n      y0: spring(y0, springConfig),\n      y1: spring(y1, springConfig)\n    }\n  }, function (line) {\n    return React.createElement(\"line\", {\n      x1: line.x0,\n      x2: line.x1,\n      y1: line.y0,\n      y2: line.y1,\n      fill: \"none\",\n      style: style\n    });\n  });\n});\nCrosshairLine.displayName = 'CrosshairLine';\nCrosshairLine.propTypes = {\n  x0: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y0: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired\n};\nvar Crosshair = memo(function (_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      type = _ref.type,\n      x = _ref.x,\n      y = _ref.y;\n  var xLine;\n  var yLine;\n\n  if (type === 'cross') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: height\n    };\n    yLine = {\n      x0: 0,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'top-left') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: y\n    };\n    yLine = {\n      x0: 0,\n      x1: x,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'top') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: y\n    };\n  } else if (type === 'top-right') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: y\n    };\n    yLine = {\n      x0: x,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'right') {\n    yLine = {\n      x0: x,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'bottom-right') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: y,\n      y1: height\n    };\n    yLine = {\n      x0: x,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'bottom') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: y,\n      y1: height\n    };\n  } else if (type === 'bottom-left') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: y,\n      y1: height\n    };\n    yLine = {\n      x0: 0,\n      x1: x,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'left') {\n    yLine = {\n      x0: 0,\n      x1: x,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'x') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: height\n    };\n  } else if (type === 'y') {\n    yLine = {\n      x0: 0,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  }\n\n  return React.createElement(React.Fragment, null, xLine && React.createElement(CrosshairLine, {\n    x0: xLine.x0,\n    x1: xLine.x1,\n    y0: xLine.y0,\n    y1: xLine.y1\n  }), yLine && React.createElement(CrosshairLine, {\n    x0: yLine.x0,\n    x1: yLine.x1,\n    y0: yLine.y0,\n    y1: yLine.y1\n  }));\n});\nCrosshair.displayName = 'Crosshair';\nCrosshair.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  type: crosshairPropTypes.type.isRequired\n};\nCrosshair.defaultProps = {\n  type: 'cross'\n};\nvar tooltipContext = createContext();\n\nfunction _slicedToArray$1(arr, i) {\n  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1();\n}\n\nfunction _nonIterableRest$1() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit$1(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$1(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar useTooltipHandlers = function useTooltipHandlers(container) {\n  var _useState = useState({\n    isVisible: false,\n    content: null,\n    position: {}\n  }),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var showTooltipAt = useCallback(function (content, _ref, anchor) {\n    var _ref2 = _slicedToArray$1(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n\n    setState({\n      isVisible: true,\n      position: [x, y],\n      anchor: anchor,\n      content: content\n    });\n  }, []);\n  var showTooltipFromEvent = useCallback(function (content, event, anchor) {\n    var bounds = container.current.getBoundingClientRect();\n    var x = event.clientX - bounds.left;\n    var y = event.clientY - bounds.top;\n\n    if (anchor === 'left' || anchor === 'right') {\n      if (x < bounds.width / 2) anchor = 'right';else anchor = 'left';\n    }\n\n    setState({\n      isVisible: true,\n      position: [x, y],\n      anchor: anchor,\n      content: content\n    });\n  }, [container]);\n  var hideTooltip = useCallback(function () {\n    setState({\n      isVisible: false,\n      content: null\n    });\n  });\n  return {\n    showTooltipAt: showTooltipAt,\n    showTooltipFromEvent: showTooltipFromEvent,\n    hideTooltip: hideTooltip,\n    isTooltipVisible: state.isVisible,\n    tooltipPosition: state.position,\n    tooltipAnchor: state.anchor,\n    tooltipContent: state.content\n  };\n};\n\nvar useTooltip = function useTooltip() {\n  return useContext(tooltipContext);\n};\n\nexport { BasicTooltip, Chip, Crosshair, TableTooltip, TooltipWrapper, crosshairPropTypes, crosshairTypes, tooltipContext, useTooltip, useTooltipHandlers };","map":{"version":3,"sources":["/Users/tianjianxu/Documents/GitHub/ReCOVER-COVID-19/frontend/node_modules/@nivo/tooltip/dist/nivo-tooltip.esm.js"],"names":["React","memo","useState","useMemo","createContext","useCallback","useContext","PropTypes","Measure","Motion","spring","useTheme","useMotionConfig","useValueFormatter","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","err","Array","isArray","TOOLTIP_OFFSET","tooltipStyle","pointerEvents","position","zIndex","top","left","TooltipWrapper","_ref","anchor","children","_useState","_useState2","dimensions","setDimensions","theme","_useMotionConfig","animate","springConfig","x","Math","round","y","style","tooltip","transform","opacity","createElement","client","offset","bounds","margin","onResize","_ref2","width","height","_ref3","measureRef","ref","animatedPosition","_ref4","_ref5","displayName","propTypes","array","isRequired","oneOf","node","defaultProps","_objectSpread$1","_defineProperty$1","Chip","size","color","display","background","number","string","object","BasicTooltip","id","_value","format","enableChip","renderContent","formatValue","content","basic","chip","isNaN","String","container","oneOfType","bool","func","_objectSpread$2","_defineProperty$2","tableStyle","borderCollapse","TableTooltip","title","rows","table","map","row","column","j","tableCell","arrayOf","crosshairTypes","crosshairPropTypes","type","_objectSpread$3","_defineProperty$3","CrosshairLine","x0","x1","y0","y1","crosshair","line","x2","y2","fill","Crosshair","xLine","yLine","Fragment","tooltipContext","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","useTooltipHandlers","isVisible","state","setState","showTooltipAt","showTooltipFromEvent","event","current","getBoundingClientRect","clientX","clientY","hideTooltip","isTooltipVisible","tooltipPosition","tooltipAnchor","tooltipContent","useTooltip"],"mappings":"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","sourcesContent":["import React, { memo, useState, useMemo, createContext, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Measure from 'react-measure';\nimport { Motion, spring } from 'react-motion';\nimport { useTheme, useMotionConfig, useValueFormatter } from '@nivo/core';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar TOOLTIP_OFFSET = 14;\nvar tooltipStyle = {\n  pointerEvents: 'none',\n  position: 'absolute',\n  zIndex: 10,\n  top: 0,\n  left: 0\n};\nvar TooltipWrapper = memo(function (_ref) {\n  var position = _ref.position,\n      anchor = _ref.anchor,\n      children = _ref.children;\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      dimensions = _useState2[0],\n      setDimensions = _useState2[1];\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var x = Math.round(position[0]);\n  var y = Math.round(position[1]);\n  if (dimensions !== null) {\n    if (anchor === 'top') {\n      x -= dimensions[0] / 2;\n      y -= dimensions[1] + TOOLTIP_OFFSET;\n    } else if (anchor === 'right') {\n      x += TOOLTIP_OFFSET;\n      y -= dimensions[1] / 2;\n    } else if (anchor === 'bottom') {\n      x -= dimensions[0] / 2;\n      y += TOOLTIP_OFFSET;\n    } else if (anchor === 'left') {\n      x -= dimensions[0] + TOOLTIP_OFFSET;\n      y -= dimensions[1] / 2;\n    } else if (anchor === 'center') {\n      x -= dimensions[0] / 2;\n      y -= dimensions[1] / 2;\n    }\n  }\n  var style = useMemo(function () {\n    return _objectSpread({}, tooltipStyle, theme.tooltip, {\n      transform: \"translate(\".concat(x, \"px, \").concat(y, \"px)\"),\n      opacity: dimensions === null ? 0 : 1\n    });\n  }, [x, y, dimensions, theme.tooltip]);\n  if (animate !== true || dimensions === null) {\n    return React.createElement(Measure, {\n      client: false,\n      offset: false,\n      bounds: true,\n      margin: false,\n      onResize: function onResize(_ref2) {\n        var bounds = _ref2.bounds;\n        setDimensions([bounds.width, bounds.height]);\n      }\n    }, function (_ref3) {\n      var measureRef = _ref3.measureRef;\n      return React.createElement(\"div\", {\n        ref: measureRef,\n        style: style\n      }, children);\n    });\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig)\n    }\n  }, function (animatedPosition) {\n    return React.createElement(Measure, {\n      client: false,\n      offset: false,\n      bounds: true,\n      margin: false,\n      onResize: function onResize(_ref4) {\n        var bounds = _ref4.bounds;\n        setDimensions([bounds.width, bounds.height]);\n      }\n    }, function (_ref5) {\n      var measureRef = _ref5.measureRef;\n      return React.createElement(\"div\", {\n        ref: measureRef,\n        style: _objectSpread({}, tooltipStyle, theme.tooltip, {\n          transform: \"translate3d(\".concat(animatedPosition.x, \"px, \").concat(animatedPosition.y, \"px, 0)\")\n        })\n      }, children);\n    });\n  });\n});\nTooltipWrapper.displayName = 'TooltipWrapper';\nTooltipWrapper.propTypes = {\n  position: PropTypes.array.isRequired,\n  anchor: PropTypes.oneOf(['top', 'right', 'bottom', 'left', 'center']).isRequired,\n  children: PropTypes.node.isRequired\n};\nTooltipWrapper.defaultProps = {\n  anchor: 'top'\n};\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar Chip = memo(function (_ref) {\n  var size = _ref.size,\n      color = _ref.color,\n      style = _ref.style;\n  return React.createElement(\"span\", {\n    style: _objectSpread$1({\n      display: 'block',\n      width: size,\n      height: size,\n      background: color\n    }, style)\n  });\n});\nChip.propTypes = {\n  size: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  style: PropTypes.object.isRequired\n};\nChip.defaultProps = {\n  size: 12,\n  style: {}\n};\nChip.displayName = 'Chip';\n\nvar BasicTooltip = memo(function (_ref) {\n  var id = _ref.id,\n      _value = _ref.value,\n      format = _ref.format,\n      enableChip = _ref.enableChip,\n      color = _ref.color,\n      renderContent = _ref.renderContent;\n  var theme = useTheme();\n  var formatValue = useValueFormatter(format);\n  var content;\n  if (typeof renderContent === 'function') {\n    content = renderContent();\n  } else {\n    var value = _value;\n    if (formatValue !== undefined && value !== undefined) {\n      value = formatValue(value);\n    }\n    content = React.createElement(\"div\", {\n      style: theme.tooltip.basic\n    }, enableChip && React.createElement(Chip, {\n      color: color,\n      style: theme.tooltip.chip\n    }), value !== undefined ? React.createElement(\"span\", null, id, \": \", React.createElement(\"strong\", null, isNaN(value) ? String(value) : value)) : id);\n  }\n  return React.createElement(\"div\", {\n    style: theme.tooltip.container\n  }, content);\n});\nBasicTooltip.displayName = 'BasicTooltip';\nBasicTooltip.propTypes = {\n  id: PropTypes.node.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  enableChip: PropTypes.bool.isRequired,\n  color: PropTypes.string,\n  format: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  renderContent: PropTypes.func\n};\nBasicTooltip.defaultProps = {\n  enableChip: false\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar tableStyle = {\n  width: '100%',\n  borderCollapse: 'collapse'\n};\nvar TableTooltip = memo(function (_ref) {\n  var title = _ref.title,\n      rows = _ref.rows,\n      renderContent = _ref.renderContent;\n  var theme = useTheme();\n  if (!rows.length) return null;\n  var content;\n  if (typeof renderContent === 'function') {\n    content = renderContent();\n  } else {\n    content = React.createElement(\"div\", null, title && title, React.createElement(\"table\", {\n      style: _objectSpread$2({}, tableStyle, theme.tooltip.table)\n    }, React.createElement(\"tbody\", null, rows.map(function (row, i) {\n      return React.createElement(\"tr\", {\n        key: i\n      }, row.map(function (column, j) {\n        return React.createElement(\"td\", {\n          key: j,\n          style: theme.tooltip.tableCell\n        }, column);\n      }));\n    }))));\n  }\n  return React.createElement(\"div\", {\n    style: theme.tooltip.container\n  }, content);\n});\nTableTooltip.propTypes = {\n  title: PropTypes.node,\n  rows: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.node)).isRequired,\n  renderContent: PropTypes.func\n};\nTableTooltip.displayName = 'TableTooltip';\n\nvar crosshairTypes = ['x', 'y', 'top-left', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'cross'];\nvar crosshairPropTypes = {\n  type: PropTypes.oneOf(crosshairTypes)\n};\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar CrosshairLine = memo(function (_ref) {\n  var x0 = _ref.x0,\n      x1 = _ref.x1,\n      y0 = _ref.y0,\n      y1 = _ref.y1;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var style = useMemo(function () {\n    return _objectSpread$3({}, theme.crosshair.line, {\n      pointerEvents: 'none'\n    });\n  }, [theme.crosshair.line]);\n  if (animate !== true) {\n    return React.createElement(\"line\", {\n      x1: x0,\n      x2: x1,\n      y1: y0,\n      y2: y1,\n      fill: \"none\",\n      style: style\n    });\n  }\n  return React.createElement(Motion, {\n    style: {\n      x0: spring(x0, springConfig),\n      x1: spring(x1, springConfig),\n      y0: spring(y0, springConfig),\n      y1: spring(y1, springConfig)\n    }\n  }, function (line) {\n    return React.createElement(\"line\", {\n      x1: line.x0,\n      x2: line.x1,\n      y1: line.y0,\n      y2: line.y1,\n      fill: \"none\",\n      style: style\n    });\n  });\n});\nCrosshairLine.displayName = 'CrosshairLine';\nCrosshairLine.propTypes = {\n  x0: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y0: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired\n};\n\nvar Crosshair = memo(function (_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      type = _ref.type,\n      x = _ref.x,\n      y = _ref.y;\n  var xLine;\n  var yLine;\n  if (type === 'cross') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: height\n    };\n    yLine = {\n      x0: 0,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'top-left') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: y\n    };\n    yLine = {\n      x0: 0,\n      x1: x,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'top') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: y\n    };\n  } else if (type === 'top-right') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: y\n    };\n    yLine = {\n      x0: x,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'right') {\n    yLine = {\n      x0: x,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'bottom-right') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: y,\n      y1: height\n    };\n    yLine = {\n      x0: x,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'bottom') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: y,\n      y1: height\n    };\n  } else if (type === 'bottom-left') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: y,\n      y1: height\n    };\n    yLine = {\n      x0: 0,\n      x1: x,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'left') {\n    yLine = {\n      x0: 0,\n      x1: x,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'x') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: height\n    };\n  } else if (type === 'y') {\n    yLine = {\n      x0: 0,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  }\n  return React.createElement(React.Fragment, null, xLine && React.createElement(CrosshairLine, {\n    x0: xLine.x0,\n    x1: xLine.x1,\n    y0: xLine.y0,\n    y1: xLine.y1\n  }), yLine && React.createElement(CrosshairLine, {\n    x0: yLine.x0,\n    x1: yLine.x1,\n    y0: yLine.y0,\n    y1: yLine.y1\n  }));\n});\nCrosshair.displayName = 'Crosshair';\nCrosshair.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  type: crosshairPropTypes.type.isRequired\n};\nCrosshair.defaultProps = {\n  type: 'cross'\n};\n\nvar tooltipContext = createContext();\n\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1(); }\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$1(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\nvar useTooltipHandlers = function useTooltipHandlers(container) {\n  var _useState = useState({\n    isVisible: false,\n    content: null,\n    position: {}\n  }),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n  var showTooltipAt = useCallback(function (content, _ref, anchor) {\n    var _ref2 = _slicedToArray$1(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n    setState({\n      isVisible: true,\n      position: [x, y],\n      anchor: anchor,\n      content: content\n    });\n  }, []);\n  var showTooltipFromEvent = useCallback(function (content, event, anchor) {\n    var bounds = container.current.getBoundingClientRect();\n    var x = event.clientX - bounds.left;\n    var y = event.clientY - bounds.top;\n    if (anchor === 'left' || anchor === 'right') {\n      if (x < bounds.width / 2) anchor = 'right';else anchor = 'left';\n    }\n    setState({\n      isVisible: true,\n      position: [x, y],\n      anchor: anchor,\n      content: content\n    });\n  }, [container]);\n  var hideTooltip = useCallback(function () {\n    setState({\n      isVisible: false,\n      content: null\n    });\n  });\n  return {\n    showTooltipAt: showTooltipAt,\n    showTooltipFromEvent: showTooltipFromEvent,\n    hideTooltip: hideTooltip,\n    isTooltipVisible: state.isVisible,\n    tooltipPosition: state.position,\n    tooltipAnchor: state.anchor,\n    tooltipContent: state.content\n  };\n};\nvar useTooltip = function useTooltip() {\n  return useContext(tooltipContext);\n};\n\nexport { BasicTooltip, Chip, Crosshair, TableTooltip, TooltipWrapper, crosshairPropTypes, crosshairTypes, tooltipContext, useTooltip, useTooltipHandlers };\n"]},"metadata":{},"sourceType":"module"}